"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{2697:function(t,i,h){let d,c;/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function ct(){}h.r(i),h.d(i,{A:function(){return ye},B:function(){return Me},P:function(){return ve},a:function(){return K},b:function(){return D},c:function(){return I},d:function(){return tl},e:function(){return E},f:function(){return tq},i:function(){return T},m:function(){return ne},r:function(){return Zt},t:function(){return $},v:function(){return C}});let u=(c=0,function(){return c++});function T(t){return null===t||typeof t>"u"}function z(t){if(Array.isArray&&Array.isArray(t))return!0;let i=Object.prototype.toString.call(t);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function D(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}let N=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function Q(t,i){return N(t)?t:i}function C(t,i){return typeof t>"u"?i:t}let yo=(t,i)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:t/i,an=(t,i)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*i:+t;function I(t,i,h){if(t&&"function"==typeof t.call)return t.apply(h,i)}function E(t,i,h,d){let c,u,b;if(z(t)){if(u=t.length,d)for(c=u-1;c>=0;c--)i.call(h,t[c],c);else for(c=0;c<u;c++)i.call(h,t[c],c)}else if(D(t))for(u=(b=Object.keys(t)).length,c=0;c<u;c++)i.call(h,t[b[c]],b[c])}function ze(t,i){let h,d,c,u;if(!t||!i||t.length!==i.length)return!1;for(h=0,d=t.length;h<d;++h)if(c=t[h],u=i[h],c.datasetIndex!==u.datasetIndex||c.index!==u.index)return!1;return!0}function Be(t){if(z(t))return t.map(Be);if(D(t)){let i=Object.create(null),h=Object.keys(t),d=h.length,c=0;for(;c<d;++c)i[h[c]]=Be(t[h[c]]);return i}return t}function ln(t){return -1===["__proto__","prototype","constructor"].indexOf(t)}function vo(t,i,h,d){if(!ln(t))return;let c=i[t],u=h[t];D(c)&&D(u)?ne(c,u,d):i[t]=Be(u)}function ne(t,i,h){let d=z(i)?i:[i],c=d.length;if(!D(t))return t;h=h||{};let u=h.merger||vo;for(let b=0;b<c;++b){if(!D(i=d[b]))continue;let c=Object.keys(i);for(let d=0,b=c.length;d<b;++d)u(c[d],t,i,h)}return t}function Qt(t,i){return ne(t,i,{merger:Mo})}function Mo(t,i,h){if(!ln(t))return;let d=i[t],c=h[t];D(d)&&D(c)?Qt(d,c):Object.prototype.hasOwnProperty.call(i,t)||(i[t]=Be(c))}let b={"":t=>t,x:t=>t.x,y:t=>t.y};function _t(t,i){return(b[i]||(b[i]=function(t){let i=function(t){let i=t.split("."),h=[],d="";for(let t of i)(d+=t).endsWith("\\")?d=d.slice(0,-1)+".":(h.push(d),d="");return h}(t);return t=>{for(let h of i){if(""===h)break;t=t&&t[h]}return t}}(i)))(t)}function Oi(t){return t.charAt(0).toUpperCase()+t.slice(1)}let et=t=>"u">typeof t,yt=t=>"function"==typeof t,Ui=(t,i)=>{if(t.size!==i.size)return!1;for(let h of t)if(!i.has(h))return!1;return!0},w=Math.PI,S=2*w,P=S+w,O=Number.POSITIVE_INFINITY,A=w/180,L=w/2,R=w/4,F=2*w/3,B=Math.log10,V=Math.sign;function qi(t){let i=Math.round(t);t=te(t,i,t/1e3)?i:t;let h=Math.pow(10,Math.floor(B(t))),d=t/h;return(d<=1?1:d<=2?2:d<=5?5:10)*h}function Bt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function te(t,i,h){return Math.abs(t-i)<h}function cn(t,i,h){let d,c,u;for(d=0,c=t.length;d<c;d++)isNaN(u=t[d][h])||(i.min=Math.min(i.min,u),i.max=Math.max(i.max,u))}function nt(t){return t*(w/180)}function Gi(t){if(!N(t))return;let i=1,h=0;for(;Math.round(t*i)/i!==t;)i*=10,h++;return h}function hn(t,i){let h=i.x-t.x,d=i.y-t.y,c=Math.atan2(d,h);return c<-.5*w&&(c+=S),{angle:c,distance:Math.sqrt(h*h+d*d)}}function bi(t,i){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function Ao(t,i){return(t-i+P)%S-w}function Z(t){return(t%S+S)%S}function oe(t,i,h,d){let c=Z(t),u=Z(i),b=Z(h),w=Z(u-c),S=Z(b-c),P=Z(c-u),O=Z(c-b);return c===u||c===b||d&&u===b||w>S&&P<O}function Y(t,i,h){return Math.max(i,Math.min(h,t))}function ut(t,i,h,d=1e-6){return t>=Math.min(i,h)-d&&t<=Math.max(i,h)+d}function Ti(t,i,h){h=h||(h=>t[h]<i);let d=t.length-1,c=0,u;for(;d-c>1;)h(u=c+d>>1)?c=u:d=u;return{lo:c,hi:d}}let ft=(t,i,h,d)=>Ti(t,h,d?d=>t[d][i]<=h:d=>t[d][i]<h),Lo=(t,i,h)=>Ti(t,h,d=>t[d][i]>=h),W=["push","pop","shift","splice","unshift"];function Zi(t,i){let h=t._chartjs;if(!h)return;let d=h.listeners,c=d.indexOf(i);-1!==c&&d.splice(c,1),d.length>0||(W.forEach(i=>{delete t[i]}),delete t._chartjs)}function un(t){let i,h;let d=new Set;for(i=0,h=t.length;i<h;++i)d.add(t[i]);return d.size===h?t:Array.from(d)}let H=typeof window>"u"?function(t){return t()}:window.requestAnimationFrame;function gn(t,i,h){let d=h||(t=>Array.prototype.slice.call(t)),c=!1,u=[];return function(...h){u=d(h),c||(c=!0,H.call(window,()=>{c=!1,t.apply(i,u)}))}}let Li=t=>"start"===t?"left":"end"===t?"right":"center",U=(t,i,h)=>"start"===t?i:"end"===t?h:(i+h)/2,Io=(t,i,h,d)=>t===(d?"left":"right")?h:"center"===t?(i+h)/2:i;function pn(t,i,h){let d=i.length,c=0,u=d;if(t._sorted){let{iScale:b,_parsed:w}=t,S=b.axis,{min:P,max:O,minDefined:A,maxDefined:L}=b.getUserBounds();A&&(c=Y(Math.min(ft(w,b.axis,P).lo,h?d:ft(i,S,b.getPixelForValue(P)).lo),0,d-1)),u=L?Y(Math.max(ft(w,b.axis,O,!0).hi+1,h?0:ft(i,S,b.getPixelForValue(O),!0).hi+1),c,d)-c:d-c}return{start:c,count:u}}function mn(t){let{xScale:i,yScale:h,_scaleRanges:d}=t,c={xmin:i.min,xmax:i.max,ymin:h.min,ymax:h.max};if(!d)return t._scaleRanges=c,!0;let u=d.xmin!==i.min||d.xmax!==i.max||d.ymin!==h.min||d.ymax!==h.max;return Object.assign(d,c),u}let we=t=>0===t||1===t,Ji=(t,i,h)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-i)*S/h)),Qi=(t,i,h)=>Math.pow(2,-10*t)*Math.sin((t-i)*S/h)+1,j={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*L)+1,easeOutSine:t=>Math.sin(t*L),easeInOutSine:t=>-.5*(Math.cos(w*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>we(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(-Math.pow(2,-10*(2*t-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>we(t)?t:Ji(t,.075,.3),easeOutElastic:t=>we(t)?t:Qi(t,.075,.3),easeInOutElastic:t=>we(t)?t:t<.5?.5*Ji(2*t,.1125,.45):.5+.5*Qi(2*t-1,.1125,.45),easeInBack:t=>t*t*(2.70158*t-1.70158),easeOutBack:t=>(t-=1)*t*(2.70158*t+1.70158)+1,easeInOutBack(t){let i=1.70158;return(t/=.5)<1?.5*(t*t*(((i*=1.525)+1)*t-i)):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:t=>1-j.easeOutBounce(1-t),easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInOutBounce:t=>t<.5?.5*j.easeInBounce(2*t):.5*j.easeOutBounce(2*t-1)+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function he(t){return t+.5|0}let mt=(t,i,h)=>Math.max(Math.min(t,h),i);function Gt(t){return mt(he(2.55*t),0,255)}function xt(t){return mt(he(255*t),0,255)}function dt(t){return mt(he(t/2.55)/100,0,1)}function ts(t){return mt(he(100*t),0,100)}let X={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},q=[..."0123456789ABCDEF"],zo=t=>q[15&t],Bo=t=>q[(240&t)>>4]+q[15&t],Se=t=>(240&t)>>4==(15&t),Vo=t=>Se(t.r)&&Se(t.g)&&Se(t.b)&&Se(t.a),No=(t,i)=>t<255?i(t):"",G=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function bn(t,i,h){let d=i*Math.min(h,1-h),n=(i,c=(i+t/30)%12)=>h-d*Math.max(Math.min(c-3,9-c,1),-1);return[n(0),n(8),n(4)]}function $o(t,i,h){let s=(d,c=(d+t/60)%6)=>h-h*i*Math.max(Math.min(c,4-c,1),0);return[s(5),s(3),s(1)]}function Yo(t,i,h){let d;let c=bn(t,1,.5);for(i+h>1&&(d=1/(i+h),i*=d,h*=d),d=0;d<3;d++)c[d]*=1-i-h,c[d]+=i;return c}function Ri(t){let i,h,d;let c=t.r/255,u=t.g/255,b=t.b/255,w=Math.max(c,u,b),S=Math.min(c,u,b),P=(w+S)/2;return w!==S&&(d=w-S,h=P>.5?d/(2-w-S):d/(w+S),i=60*(i=c===w?(u-b)/d+(u<b?6:0):u===w?(b-c)/d+2:(c-u)/d+4)+.5),[0|i,h||0,P]}function Ei(t,i,h,d){return(Array.isArray(i)?t(i[0],i[1],i[2]):t(i,h,d)).map(xt)}function xn(t){return(t%360+360)%360}let J={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},tt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},ti=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,ni=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Ft=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Ce(t,i,h){if(t){let d=Ri(t);d[i]=Math.max(0,Math.min(d[i]+d[i]*h,0===i?360:1)),d=Ei(bn,d,void 0,void 0),t.r=d[0],t.g=d[1],t.b=d[2]}}function _n(t,i){return t&&Object.assign(i||{},t)}function ss(t){var i={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(i={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(i.a=xt(t[3]))):(i=_n(t,{r:0,g:0,b:0,a:1})).a=xt(i.a),i}let We=class We{constructor(t){var i,h;let c;if(t instanceof We)return t;let u=typeof t;"object"===u?c=ss(t):"string"===u&&(h=t.length,"#"===t[0]&&(4===h||5===h?i={r:255&17*X[t[1]],g:255&17*X[t[2]],b:255&17*X[t[3]],a:5===h?17*X[t[4]]:255}:(7===h||9===h)&&(i={r:X[t[1]]<<4|X[t[2]],g:X[t[3]]<<4|X[t[4]],b:X[t[5]]<<4|X[t[6]],a:9===h?X[t[7]]<<4|X[t[8]]:255})),c=i||function(t){d||((d=function(){let t,i,h,d,c;let u={},b=Object.keys(tt),w=Object.keys(J);for(t=0;t<b.length;t++){for(d=c=b[t],i=0;i<w.length;i++)h=w[i],c=c.replace(h,J[h]);h=parseInt(tt[d],16),u[c]=[h>>16&255,h>>8&255,255&h]}return u}()).transparent=[0,0,0,0]);let i=d[t.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(t)||("r"===t.charAt(0)?function(t){let i=ti.exec(t),h=255,d,c,u;if(i){if(i[7]!==d){let t=+i[7];h=i[8]?Gt(t):mt(255*t,0,255)}return d=+i[1],c=+i[3],u=+i[5],{r:d=255&(i[2]?Gt(d):mt(d,0,255)),g:c=255&(i[4]?Gt(c):mt(c,0,255)),b:u=255&(i[6]?Gt(u):mt(u,0,255)),a:h}}}(t):function(t){let i=G.exec(t),h=255,d;if(!i)return;i[5]!==d&&(h=i[6]?Gt(+i[5]):xt(+i[5]));let c=xn(+i[2]),u=+i[3]/100,b=+i[4]/100;return{r:(d="hwb"===i[1]?Ei(Yo,c,u,b):"hsv"===i[1]?Ei($o,c,u,b):Ei(bn,c,u,b))[0],g:d[1],b:d[2],a:h}}(t))),this._rgb=c,this._valid=!!c}get valid(){return this._valid}get rgb(){var t=_n(this._rgb);return t&&(t.a=dt(t.a)),t}set rgb(t){this._rgb=ss(t)}rgbString(){var t;return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${dt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0}hexString(){var t,i;return this._valid?(i=Vo(t=this._rgb)?zo:Bo,t?"#"+i(t.r)+i(t.g)+i(t.b)+No(t.a,i):void 0):void 0}hslString(){return this._valid?function(t){if(!t)return;let i=Ri(t),h=i[0],d=ts(i[1]),c=ts(i[2]);return t.a<255?`hsla(${h}, ${d}%, ${c}%, ${dt(t.a)})`:`hsl(${h}, ${d}%, ${c}%)`}(this._rgb):void 0}mix(t,i){if(t){let h;let d=this.rgb,c=t.rgb,u=i===h?.5:i,b=2*u-1,w=d.a-c.a,S=((b*w==-1?b:(b+w)/(1+b*w))+1)/2;h=1-S,d.r=255&S*d.r+h*c.r+.5,d.g=255&S*d.g+h*c.g+.5,d.b=255&S*d.b+h*c.b+.5,d.a=u*d.a+(1-u)*c.a,this.rgb=d}return this}interpolate(t,i){return t&&(this._rgb=function(t,i,h){let d=Ft(dt(t.r)),c=Ft(dt(t.g)),u=Ft(dt(t.b));return{r:xt(ni(d+h*(Ft(dt(i.r))-d))),g:xt(ni(c+h*(Ft(dt(i.g))-c))),b:xt(ni(u+h*(Ft(dt(i.b))-u))),a:t.a+h*(i.a-t.a)}}(this._rgb,t._rgb,i)),this}clone(){return new We(this.rgb)}alpha(t){return this._rgb.a=xt(t),this}clearer(t){let i=this._rgb;return i.a*=1-t,this}greyscale(){let t=this._rgb,i=he(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=i,this}opaquer(t){let i=this._rgb;return i.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ce(this._rgb,2,t),this}darken(t){return Ce(this._rgb,2,-t),this}saturate(t){return Ce(this._rgb,1,t),this}desaturate(t){return Ce(this._rgb,1,-t),this}rotate(t){var i,h;return(h=Ri(i=this._rgb))[0]=xn(h[0]+t),h=Ei(bn,h,void 0,void 0),i.r=h[0],i.g=h[1],i.b=h[2],this}};function vn(t){if(t&&"object"==typeof t){let i=t.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function ns(t){return vn(t)?t:new We(t)}function oi(t){return vn(t)?t:new We(t).saturate(.5).darken(.1).hexString()}let ta=Object.create(null),tr=Object.create(null);function ie(t,i){if(!i)return t;let h=i.split(".");for(let i=0,d=h.length;i<d;++i){let d=h[i];t=t[d]||(t[d]=Object.create(null))}return t}function ri(t,i,h){return"string"==typeof i?ne(ie(t,i),h):ne(ie(t,""),i)}var tl=new class{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,i)=>oi(i.backgroundColor),this.hoverBorderColor=(t,i)=>oi(i.borderColor),this.hoverColor=(t,i)=>oi(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,i){return ri(this,t,i)}get(t){return ie(this,t)}describe(t,i){return ri(tr,t,i)}override(t,i){return ri(ta,t,i)}route(t,i,h,d){let c=ie(this,t),u=ie(this,h),b="_"+i;Object.defineProperties(c,{[b]:{value:c[i],writable:!0},[i]:{enumerable:!0,get(){let t=this[b],i=u[d];return D(t)?Object.assign({},i,t):C(t,i)},set(t){this[b]=t}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Ne(t,i,h,d,c){let u=i[c];return u||(u=i[c]=t.measureText(c).width,h.push(c)),u>d&&(d=u),d}function wt(t,i,h){let d=t.currentDevicePixelRatio,c=0!==h?Math.max(h/2,.5):0;return Math.round((i-c)*d)/d+c}function os(t,i){(i=i||t.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,t.width,t.height),i.restore()}function yi(t,i,h,d){Mn(t,i,h,d,null)}function Mn(t,i,h,d,c){let u,b,P,O,B,V;let W=i.pointStyle,H=i.rotation,j=i.radius,X=(H||0)*A;if(W&&"object"==typeof W&&("[object HTMLImageElement]"===(u=W.toString())||"[object HTMLCanvasElement]"===u)){t.save(),t.translate(h,d),t.rotate(X),t.drawImage(W,-W.width/2,-W.height/2,W.width,W.height),t.restore();return}if(!(isNaN(j)||j<=0)){switch(t.beginPath(),W){default:c?t.ellipse(h,d,c/2,j,0,0,S):t.arc(h,d,j,0,S),t.closePath();break;case"triangle":t.moveTo(h+Math.sin(X)*j,d-Math.cos(X)*j),X+=F,t.lineTo(h+Math.sin(X)*j,d-Math.cos(X)*j),X+=F,t.lineTo(h+Math.sin(X)*j,d-Math.cos(X)*j),t.closePath();break;case"rectRounded":B=.516*j,b=Math.cos(X+R)*(O=j-B),P=Math.sin(X+R)*O,t.arc(h-b,d-P,B,X-w,X-L),t.arc(h+P,d-b,B,X-L,X),t.arc(h+b,d+P,B,X,X+L),t.arc(h-P,d+b,B,X+L,X+w),t.closePath();break;case"rect":if(!H){O=Math.SQRT1_2*j,V=c?c/2:O,t.rect(h-V,d-O,2*V,2*O);break}X+=R;case"rectRot":b=Math.cos(X)*j,P=Math.sin(X)*j,t.moveTo(h-b,d-P),t.lineTo(h+P,d-b),t.lineTo(h+b,d+P),t.lineTo(h-P,d+b),t.closePath();break;case"crossRot":X+=R;case"cross":b=Math.cos(X)*j,P=Math.sin(X)*j,t.moveTo(h-b,d-P),t.lineTo(h+b,d+P),t.moveTo(h+P,d-b),t.lineTo(h-P,d+b);break;case"star":b=Math.cos(X)*j,P=Math.sin(X)*j,t.moveTo(h-b,d-P),t.lineTo(h+b,d+P),t.moveTo(h+P,d-b),t.lineTo(h-P,d+b),X+=R,b=Math.cos(X)*j,P=Math.sin(X)*j,t.moveTo(h-b,d-P),t.lineTo(h+b,d+P),t.moveTo(h+P,d-b),t.lineTo(h-P,d+b);break;case"line":b=c?c/2:Math.cos(X)*j,P=Math.sin(X)*j,t.moveTo(h-b,d-P),t.lineTo(h+b,d+P);break;case"dash":t.moveTo(h,d),t.lineTo(h+Math.cos(X)*j,d+Math.sin(X)*j)}t.fill(),i.borderWidth>0&&t.stroke()}}function re(t,i,h){return h=h||.5,!i||t&&t.x>i.left-h&&t.x<i.right+h&&t.y>i.top-h&&t.y<i.bottom+h}function Xe(t,i){t.save(),t.beginPath(),t.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),t.clip()}function Ue(t){t.restore()}function lr(t,i,h,d,c){if(!i)return t.lineTo(h.x,h.y);if("middle"===c){let d=(i.x+h.x)/2;t.lineTo(d,i.y),t.lineTo(d,h.y)}else"after"===c!=!!d?t.lineTo(i.x,h.y):t.lineTo(h.x,i.y);t.lineTo(h.x,h.y)}function cr(t,i,h,d){if(!i)return t.lineTo(h.x,h.y);t.bezierCurveTo(d?i.cp1x:i.cp2x,d?i.cp1y:i.cp2y,d?h.cp2x:h.cp1x,d?h.cp2y:h.cp1y,h.x,h.y)}function Tt(t,i,h,d,c,u={}){let b,w;let S=z(i)?i:[i],P=u.strokeWidth>0&&""!==u.strokeColor;for(t.save(),t.font=c.string,u.translation&&t.translate(u.translation[0],u.translation[1]),T(u.rotation)||t.rotate(u.rotation),u.color&&(t.fillStyle=u.color),u.textAlign&&(t.textAlign=u.textAlign),u.textBaseline&&(t.textBaseline=u.textBaseline),b=0;b<S.length;++b)w=S[b],P&&(u.strokeColor&&(t.strokeStyle=u.strokeColor),T(u.strokeWidth)||(t.lineWidth=u.strokeWidth),t.strokeText(w,h,d,u.maxWidth)),t.fillText(w,h,d,u.maxWidth),function(t,i,h,d,c){if(c.strikethrough||c.underline){let u=t.measureText(d),b=i-u.actualBoundingBoxLeft,w=i+u.actualBoundingBoxRight,S=h-u.actualBoundingBoxAscent,P=h+u.actualBoundingBoxDescent,O=c.strikethrough?(S+P)/2:P;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=c.decorationWidth||2,t.moveTo(b,O),t.lineTo(w,O),t.stroke()}}(t,h,d,w,u),d+=c.lineHeight;t.restore()}function ae(t,i){let{x:h,y:d,w:c,h:u,radius:b}=i;t.arc(h+b.topLeft,d+b.topLeft,b.topLeft,-L,w,!0),t.lineTo(h,d+u-b.bottomLeft),t.arc(h+b.bottomLeft,d+u-b.bottomLeft,b.bottomLeft,w,L,!0),t.lineTo(h+c-b.bottomRight,d+u),t.arc(h+c-b.bottomRight,d+u-b.bottomRight,b.bottomRight,L,0,!0),t.lineTo(h+c,d+b.topRight),t.arc(h+c-b.topRight,d+b.topRight,b.topRight,0,-L,!0),t.lineTo(h+b.topLeft,d)}let th=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),td=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/),pr=t=>+t||0;function Ii(t,i){let h={},d=D(i),c=d?Object.keys(i):i,u=D(t)?d?h=>C(t[h],t[i[h]]):i=>t[i]:()=>t;for(let t of c)h[t]=pr(u(t));return h}function kn(t){return Ii(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Dt(t){return Ii(t,["topLeft","topRight","bottomLeft","bottomRight"])}function K(t){let i=kn(t);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function $(t,i){t=t||{},i=i||tl.font;let h=C(t.size,i.size);"string"==typeof h&&(h=parseInt(h,10));let d=C(t.style,i.style);d&&!(""+d).match(td)&&(console.warn('Invalid font style specified: "'+d+'"'),d="");let c={family:C(t.family,i.family),lineHeight:function(t,i){let h=(""+t).match(th);if(!h||"normal"===h[1])return 1.2*i;switch(t=+h[2],h[3]){case"px":return t;case"%":t/=100}return i*t}(C(t.lineHeight,i.lineHeight),h),size:h,style:d,weight:C(t.weight,i.weight),string:""};return c.string=!c||T(c.size)||T(c.family)?null:(c.style?c.style+" ":"")+(c.weight?c.weight+" ":"")+c.size+"px "+c.family,c}function Zt(t,i,h,d){let c=!0,u,b,w;for(u=0,b=t.length;u<b;++u)if(void 0!==(w=t[u])&&(void 0!==i&&"function"==typeof w&&(w=w(i),c=!1),void 0!==h&&z(w)&&(w=w[h%w.length],c=!1),void 0!==w))return d&&!c&&(d.cacheable=!1),w}function vt(t,i){return Object.assign(Object.create(t),i)}function zi(t,i=[""],h=t,d,c=()=>t[0]){et(d)||(d=Cn("_fallback",t));let u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:h,_fallback:d,_getTarget:c,override:c=>zi([c,...t],i,h,d)};return new Proxy(u,{deleteProperty:(i,h)=>(delete i[h],delete i._keys,delete t[0][h],!0),get:(h,d)=>Sn(h,d,()=>(function(t,i,h,d){let c;for(let u of i)if(et(c=Cn(br(u,t),h)))return Bi(t,c)?Vi(h,d,t,c):c})(d,i,t,h)),getOwnPropertyDescriptor:(t,i)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],i),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,i)=>as(t).includes(i),ownKeys:t=>as(t),set(t,i,h){let d=t._storage||(t._storage=c());return t[i]=d[i]=h,delete t._keys,!0}})}function Vt(t,i,h,d){let c={_cacheable:!1,_proxy:t,_context:i,_subProxy:h,_stack:new Set,_descriptors:wn(t,d),setContext:i=>Vt(t,i,h,d),override:c=>Vt(t.override(c),i,h,d)};return new Proxy(c,{deleteProperty:(i,h)=>(delete i[h],delete t[h],!0),get:(t,i,h)=>Sn(t,i,()=>(function(t,i,h){let{_proxy:d,_context:c,_subProxy:u,_descriptors:b}=t,w=d[i];return yt(w)&&b.isScriptable(i)&&(w=function(t,i,h,d){let{_proxy:c,_context:u,_subProxy:b,_stack:w}=h;if(w.has(t))throw Error("Recursion detected: "+Array.from(w).join("->")+"->"+t);return w.add(t),i=i(u,b||d),w.delete(t),Bi(t,i)&&(i=Vi(c._scopes,c,t,i)),i}(i,w,t,h)),z(w)&&w.length&&(w=function(t,i,h,d){let{_proxy:c,_context:u,_subProxy:b,_descriptors:w}=h;if(et(u.index)&&d(t))i=i[u.index%i.length];else if(D(i[0])){let h=i,d=c._scopes.filter(t=>t!==h);for(let S of(i=[],h)){let h=Vi(d,c,t,S);i.push(Vt(h,u,b&&b[t],w))}}return i}(i,w,t,b.isIndexable)),Bi(i,w)&&(w=Vt(w,c,u&&u[i],b)),w})(t,i,h)),getOwnPropertyDescriptor:(i,h)=>i._descriptors.allKeys?Reflect.has(t,h)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,h),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(i,h)=>Reflect.has(t,h),ownKeys:()=>Reflect.ownKeys(t),set:(i,h,d)=>(t[h]=d,delete i[h],!0)})}function wn(t,i={scriptable:!0,indexable:!0}){let{_scriptable:h=i.scriptable,_indexable:d=i.indexable,_allKeys:c=i.allKeys}=t;return{allKeys:c,scriptable:h,indexable:d,isScriptable:yt(h)?h:()=>h,isIndexable:yt(d)?d:()=>d}}let br=(t,i)=>t?t+Oi(i):i,Bi=(t,i)=>D(i)&&"adapters"!==t&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function Sn(t,i,h){if(Object.prototype.hasOwnProperty.call(t,i))return t[i];let d=h();return t[i]=d,d}let vr=(t,i)=>!0===t?i:"string"==typeof t?_t(i,t):void 0;function Vi(t,i,h,d){var c;let u=i._rootScopes,b=yt(c=i._fallback)?c(h,d):c,w=[...t,...u],S=new Set;S.add(d);let P=rs(S,w,h,b||h,d);return!(null===P||et(b)&&b!==h&&null===(P=rs(S,w,b,P,d)))&&zi(Array.from(S),[""],u,b,()=>(function(t,i,h){let d=t._getTarget();i in d||(d[i]={});let c=d[i];return z(c)&&D(h)?h:c})(i,h,d))}function rs(t,i,h,d,c){for(;h;)h=function(t,i,h,d,c){for(let b of i){let i=vr(h,b);if(i){var u;t.add(i);let b=yt(u=i._fallback)?u(h,c):u;if(et(b)&&b!==h&&b!==d)return b}else if(!1===i&&et(d)&&h!==d)return null}return!1}(t,i,h,d,c);return h}function Cn(t,i){for(let h of i){if(!h)continue;let i=h[t];if(et(i))return i}}function as(t){let i=t._keys;return i||(i=t._keys=function(t){let i=new Set;for(let h of t)for(let t of Object.keys(h).filter(t=>!t.startsWith("_")))i.add(t);return Array.from(i)}(t._scopes)),i}function Dn(t,i,h,d){let c,u,b;let{iScale:w}=t,{key:S="r"}=this._parsing,P=Array(d);for(c=0;c<d;++c)b=i[u=c+h],P[c]={r:w.parse(_t(b,S),u)};return P}let tc=Number.EPSILON||1e-14,Wt=(t,i)=>i<t.length&&!t[i].skip&&t[i],On=t=>"x"===t?"y":"x";function De(t,i,h){return Math.max(Math.min(t,h),i)}function An(){return"u">typeof window&&"u">typeof document}function Wi(t){let i=t.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function He(t,i,h){let d;return"string"==typeof t?(d=parseInt(t,10),-1!==t.indexOf("%")&&(d=d/100*i.parentNode[h])):d=t,d}let Ke=t=>window.getComputedStyle(t,null),tu=["top","right","bottom","left"];function Ot(t,i,h){let d={};h=h?"-"+h:"";for(let c=0;c<4;c++){let u=tu[c];d[u]=parseFloat(t[i+"-"+u+h])||0}return d.width=d.left+d.right,d.height=d.top+d.bottom,d}let Fr=(t,i,h)=>(t>0||i>0)&&(!h||!h.shadowRoot);function Pt(t,i){if("native"in t)return t;let{canvas:h,currentDevicePixelRatio:d}=i,c=Ke(h),u="border-box"===c.boxSizing,b=Ot(c,"padding"),w=Ot(c,"border","width"),{x:S,y:P,box:O}=function(t,i){let h=t.touches,d=h&&h.length?h[0]:t,{offsetX:c,offsetY:u}=d,b=!1,w,S;if(Fr(c,u,t.target))w=c,S=u;else{let t=i.getBoundingClientRect();w=d.clientX-t.left,S=d.clientY-t.top,b=!0}return{x:w,y:S,box:b}}(t,h),A=b.left+(O&&w.left),L=b.top+(O&&w.top),{width:R,height:F}=i;return u&&(R-=b.width+w.width,F-=b.height+w.height),{x:Math.round((S-A)/R*h.width/d),y:Math.round((P-L)/F*h.height/d)}}let ai=t=>Math.round(10*t)/10;function ls(t,i,h){let d=i||1,c=Math.floor(t.height*d),u=Math.floor(t.width*d);t.height=c/d,t.width=u/d;let b=t.canvas;return b.style&&(h||!b.style.height&&!b.style.width)&&(b.style.height=`${t.height}px`,b.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==d||b.height!==c||b.width!==u)&&(t.currentDevicePixelRatio=d,b.height=c,b.width=u,t.ctx.setTransform(d,0,0,d,0,0),!0)}let tf=function(){let t=!1;try{let i={get passive(){return t=!0,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{}return t}();function cs(t,i){let h=Ke(t).getPropertyValue(i),d=h&&h.match(/^(\d+)(\.\d+)?px$/);return d?+d[1]:void 0}function Ct(t,i,h,d){return{x:t.x+h*(i.x-t.x),y:t.y+h*(i.y-t.y)}}function Wr(t,i,h,d){return{x:t.x+h*(i.x-t.x),y:"middle"===d?h<.5?t.y:i.y:"after"===d?h<1?t.y:i.y:h>0?i.y:t.y}}function Nr(t,i,h,d){let c={x:t.cp2x,y:t.cp2y},u={x:i.cp1x,y:i.cp1y},b=Ct(t,c,h),w=Ct(c,u,h),S=Ct(u,i,h),P=Ct(b,w,h),O=Ct(w,S,h);return Ct(P,O,h)}let tg=new Map;function de(t,i,h){return(function(t,i){i=i||{};let h=t+JSON.stringify(i),d=tg.get(h);return d||(d=new Intl.NumberFormat(t,i),tg.set(h,d)),d})(i,h).format(t)}function zt(t,i,h){var d;return t?(d=h,{x:t=>i+i+d-t,setWidth(t){d=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,i)=>t+i,leftForLtr:(t,i)=>t}}function Tn(t,i){let h,d;("ltr"===i||"rtl"===i)&&(d=[(h=t.canvas.style).getPropertyValue("direction"),h.getPropertyPriority("direction")],h.setProperty("direction",i,"important"),t.prevTextDirection=d)}function Ln(t,i){void 0!==i&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",i[0],i[1]))}function Rn(t){return"angle"===t?{between:oe,compare:Ao,normalize:Z}:{between:ut,compare:(t,i)=>t-i,normalize:t=>t}}function ds({start:t,end:i,count:h,loop:d,style:c}){return{start:t%h,end:i%h,loop:d&&(i-t+1)%h==0,style:c}}function En(t,i,h){if(!h)return[t];let{property:d,start:c,end:u}=h,b=i.length,{compare:w,between:S,normalize:P}=Rn(d),{start:O,end:A,loop:L,style:R}=function(t,i,h){let{property:d,start:c,end:u}=h,{between:b,normalize:w}=Rn(d),S=i.length,{start:P,end:O,loop:A}=t,L;if(A){for(P+=S,O+=S,L=0;L<S&&b(w(i[P%S][d]),c,u);++L)P--,O--;P%=S,O%=S}return O<P&&(O+=S),{start:P,end:O,loop:A,style:t.style}}(t,i,h),F=[],B=!1,V=null,W,H,j,y=()=>S(c,j,W)&&0!==w(c,j),_=()=>0===w(u,W)||S(u,j,W),M=()=>B||y(),k=()=>!B||_();for(let t=O,h=O;t<=A;++t)(H=i[t%b]).skip||(W=P(H[d]))===j||(B=S(W,c,u),null===V&&M()&&(V=0===w(W,c)?t:h),null!==V&&k()&&(F.push(ds({start:V,end:t,loop:L,count:b,style:R})),V=null),h=t,j=W);return null!==V&&F.push(ds({start:V,end:A,loop:L,count:b,style:R})),F}function Fn(t,i){let h=[],d=t.segments;for(let c=0;c<d.length;c++){let u=En(d[c],t.points,i);u.length&&h.push(...u)}return h}function us(t,i,h,d){return d&&d.setContext&&h?function(t,i,h,d){let c=t._chart.getContext(),u=fs(t.options),{_datasetIndex:b,options:{spanGaps:w}}=t,S=h.length,P=[],O=u,A=i[0].start,L=A;function f(t,i,d,c){let u=w?-1:1;if(t!==i){for(t+=S;h[t%S].skip;)t-=u;for(;h[i%S].skip;)i+=u;t%S!=i%S&&(P.push({start:t%S,end:i%S,loop:d,style:c}),O=c,A=i%S)}}for(let t of i){let i=h[(A=w?A:t.start)%S],u;for(L=A+1;L<=t.end;L++){var R,F;let w=h[L%S];R=u=fs(d.setContext(vt(c,{type:"segment",p0:i,p1:w,p0DataIndex:(L-1)%S,p1DataIndex:L%S,datasetIndex:b}))),(F=O)&&JSON.stringify(R)!==JSON.stringify(F)&&f(A,L-1,t.loop,O),i=w,O=u}A<L-1&&f(A,L-1,t.loop,O)}return P}(t,i,h,d):i}function fs(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}var tp=new /*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,h,d){let c=i.listeners[d],u=i.duration;c.forEach(d=>d({chart:t,initial:i.initial,numSteps:u,currentStep:Math.min(h-i.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=H.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((h,d)=>{if(!h.running||!h.items.length)return;let c=h.items,u=c.length-1,b=!1,w;for(;u>=0;--u)(w=c[u])._active?(w._total>h.duration&&(h.duration=w._total),w.tick(t),b=!0):(c[u]=c[c.length-1],c.pop());b&&(d.draw(),this._notify(d,h,t,"progress")),c.length||(h.running=!1,this._notify(d,h,t,"complete"),h.initial=!1),i+=c.length}),this._lastDate=t,0===i&&(this._running=!1)}_getAnims(t){let i=this._charts,h=i.get(t);return h||(h={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,h)),h}listen(t,i,h){this._getAnims(t).listeners[i].push(h)}add(t,i){i&&i.length&&this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){let i=this._charts.get(t);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((t,i)=>Math.max(t,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;let i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){let i=this._charts.get(t);if(!i||!i.items.length)return;let h=i.items,d=h.length-1;for(;d>=0;--d)h[d].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};let tm="transparent",tb={boolean:(t,i,h)=>h>.5?i:t,color(t,i,h){let d=ns(t||tm),c=d.valid&&ns(i||tm);return c&&c.valid?c.mix(d,h).hexString():i},number:(t,i,h)=>t+(i-t)*h};let In=class In{constructor(t,i,h,d){let c=i[h];d=Zt([t.to,d,c,t.from]);let u=Zt([t.from,c,d]);this._active=!0,this._fn=t.fn||tb[t.type||typeof u],this._easing=j[t.easing]||j.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=h,this._from=u,this._to=d,this._promises=void 0}active(){return this._active}update(t,i,h){if(this._active){this._notify(!1);let d=this._target[this._prop],c=h-this._start,u=this._duration-c;this._start=h,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=c,this._loop=!!t.loop,this._to=Zt([t.to,i,d,t.from]),this._from=Zt([t.from,d,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let i;let h=t-this._start,d=this._duration,c=this._prop,u=this._from,b=this._loop,w=this._to;if(this._active=u!==w&&(b||h<d),!this._active){this._target[c]=w,this._notify(!0);return}if(h<0){this._target[c]=u;return}i=h/d%2,i=b&&i>1?2-i:i,i=this._easing(Math.min(1,Math.max(0,i))),this._target[c]=this._fn(u,w,i)}wait(){let t=this._promises||(this._promises=[]);return new Promise((i,h)=>{t.push({res:i,rej:h})})}_notify(t){let i=t?"res":"rej",h=this._promises||[];for(let t=0;t<h.length;t++)h[t][i]()}};tl.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});let tx=Object.keys(tl.animation);tl.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),tl.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),tl.describe("animations",{_fallback:"animation"}),tl.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});let Ni=class Ni{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!D(t))return;let i=this._properties;Object.getOwnPropertyNames(t).forEach(h=>{let d=t[h];if(!D(d))return;let c={};for(let t of tx)c[t]=d[t];(z(d.properties)&&d.properties||[h]).forEach(t=>{t!==h&&i.has(t)||i.set(t,c)})})}_animateOptions(t,i){let h=i.options,d=function(t,i){if(!i)return;let h=t.options;if(!h){t.options=i;return}return h.$shared&&(t.options=h=Object.assign({},h,{$shared:!1,$animations:{}})),h}(t,h);if(!d)return[];let c=this._createAnimations(d,h);return h.$shared&&(function(t,i){let h=[],d=Object.keys(i);for(let i=0;i<d.length;i++){let c=t[d[i]];c&&c.active()&&h.push(c.wait())}return Promise.all(h)})(t.options.$animations,h).then(()=>{t.options=h},()=>{}),c}_createAnimations(t,i){let h;let d=this._properties,c=[],u=t.$animations||(t.$animations={}),b=Object.keys(i),w=Date.now();for(h=b.length-1;h>=0;--h){let S=b[h];if("$"===S.charAt(0))continue;if("options"===S){c.push(...this._animateOptions(t,i));continue}let P=i[S],O=u[S],A=d.get(S);if(O){if(A&&O.active()){O.update(A,P,w);continue}O.cancel()}if(!A||!A.duration){t[S]=P;continue}u[S]=O=new In(A,t,S,P),c.push(O)}return c}update(t,i){if(0===this._properties.size){Object.assign(t,i);return}let h=this._createAnimations(t,i);if(h.length)return tp.add(this._chart,h),!0}};function ps(t,i){let h=t&&t.options||{},d=h.reverse,c=void 0===h.min?i:0,u=void 0===h.max?i:0;return{start:d?u:c,end:d?c:u}}function zn(t,i){let h,d;let c=[],u=t._getSortedDatasetMetas(i);for(h=0,d=u.length;h<d;++h)c.push(u[h].index);return c}function ms(t,i,h,d={}){let c,u,b,w;let S=t.keys,P="single"===d.mode;if(null!==i){for(c=0,u=S.length;c<u;++c){if((b=+S[c])===h){if(d.all)continue;break}N(w=t.values[b])&&(P||0===i||V(i)===V(w))&&(i+=w)}return i}}function bs(t,i){let h=t&&t.options.stacked;return h||void 0===h&&void 0!==i.stack}function xs(t,i,h,d){for(let c of i.getMatchingVisibleMetas(d).reverse()){let i=t[c.index];if(h&&i>0||!h&&i<0)return c.index}return null}function _s(t,i){let h;let{chart:d,_cachedMeta:c}=t,u=d._stacks||(d._stacks={}),{iScale:b,vScale:w,index:S}=c,P=b.axis,O=w.axis,A=`${b.id}.${w.id}.${c.stack||c.type}`,L=i.length;for(let t=0;t<L;++t){let d=i[t],{[P]:b,[O]:L}=d,R=d._stacks||(d._stacks={});(h=R[O]=function(t,i,h){let d=t[i]||(t[i]={});return d[h]||(d[h]={})}(u,A,b))[S]=L,h._top=xs(h,w,!0,c.type),h._bottom=xs(h,w,!1,c.type)}}function li(t,i){let h=t.scales;return Object.keys(h).filter(t=>h[t].axis===i).shift()}function Yt(t,i){let h=t.controller.index,d=t.vScale&&t.vScale.axis;if(d)for(let c of i=i||t._parsed){let t=c._stacks;if(!t||void 0===t[d]||void 0===t[d][h])return;delete t[d][h]}}let ci=t=>"reset"===t||"none"===t,ys=(t,i)=>i?t:Object.assign({},t),ua=(t,i,h)=>t&&!i.hidden&&i._stacked&&{keys:zn(h,!0),values:null};let it=class it{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=bs(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Yt(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,i=this._cachedMeta,h=this.getDataset(),n=(t,i,h,d)=>"x"===t?i:"r"===t?d:h,d=i.xAxisID=C(h.xAxisID,li(t,"x")),c=i.yAxisID=C(h.yAxisID,li(t,"y")),u=i.rAxisID=C(h.rAxisID,li(t,"r")),b=i.indexAxis,w=i.iAxisID=n(b,d,c,u),S=i.vAxisID=n(b,c,d,u);i.xScale=this.getScaleForId(d),i.yScale=this.getScaleForId(c),i.rScale=this.getScaleForId(u),i.iScale=this.getScaleForId(w),i.vScale=this.getScaleForId(S)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Zi(this._data,this),t._stacked&&Yt(t)}_dataCheck(){let t=this.getDataset(),i=t.data||(t.data=[]),h=this._data;if(D(i))this._data=function(t){let i,h,d;let c=Object.keys(t),u=Array(c.length);for(i=0,h=c.length;i<h;++i)d=c[i],u[i]={x:d,y:t[d]};return u}(i);else if(h!==i){if(h){Zi(h,this);let t=this._cachedMeta;Yt(t),t._parsed=[]}i&&Object.isExtensible(i)&&function(t,i){if(t._chartjs){t._chartjs.listeners.push(i);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),W.forEach(i=>{let h="_onData"+Oi(i),d=t[i];Object.defineProperty(t,i,{configurable:!0,enumerable:!1,value(...i){let c=d.apply(this,i);return t._chartjs.listeners.forEach(t=>{"function"==typeof t[h]&&t[h](...i)}),c}})})}(i,this),this._syncList=[],this._data=i}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let i=this._cachedMeta,h=this.getDataset(),d=!1;this._dataCheck();let c=i._stacked;i._stacked=bs(i.vScale,i),i.stack!==h.stack&&(d=!0,Yt(i),i.stack=h.stack),this._resyncElements(t),(d||c!==i._stacked)&&_s(this,i._parsed)}configure(){let t=this.chart.config,i=t.datasetScopeKeys(this._type),h=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(h,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){let{_cachedMeta:h,_data:d}=this,{iScale:c,_stacked:u}=h,b=c.axis,w=0===t&&i===d.length||h._sorted,S=t>0&&h._parsed[t-1],P,O,A;if(!1===this._parsing)h._parsed=d,h._sorted=!0,A=d;else{A=z(d[t])?this.parseArrayData(h,d,t,i):D(d[t])?this.parseObjectData(h,d,t,i):this.parsePrimitiveData(h,d,t,i);let f=()=>null===O[b]||S&&O[b]<S[b];for(P=0;P<i;++P)h._parsed[P+t]=O=A[P],w&&(f()&&(w=!1),S=O);h._sorted=w}u&&_s(this,A)}parsePrimitiveData(t,i,h,d){let c,u;let{iScale:b,vScale:w}=t,S=b.axis,P=w.axis,O=b.getLabels(),A=b===w,L=Array(d);for(c=0;c<d;++c)u=c+h,L[c]={[S]:A||b.parse(O[u],u),[P]:w.parse(i[u],u)};return L}parseArrayData(t,i,h,d){let c,u,b;let{xScale:w,yScale:S}=t,P=Array(d);for(c=0;c<d;++c)b=i[u=c+h],P[c]={x:w.parse(b[0],u),y:S.parse(b[1],u)};return P}parseObjectData(t,i,h,d){let c,u,b;let{xScale:w,yScale:S}=t,{xAxisKey:P="x",yAxisKey:O="y"}=this._parsing,A=Array(d);for(c=0;c<d;++c)b=i[u=c+h],A[c]={x:w.parse(_t(b,P),u),y:S.parse(_t(b,O),u)};return A}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,h){let d=this.chart,c=this._cachedMeta,u=i[t.axis],b={keys:zn(d,!0),values:i._stacks[t.axis]};return ms(b,u,c.index,{mode:h})}updateRangeFromParsed(t,i,h,d){let c=h[i.axis],u=null===c?NaN:c,b=d&&h._stacks[i.axis];d&&b&&(d.values=b,u=ms(d,c,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,i){let h,d;let c=this._cachedMeta,u=c._parsed,b=c._sorted&&t===c.iScale,w=u.length,S=this._getOtherScale(t),P=ua(i,c,this.chart),O={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:A,max:L}=function(t){let{min:i,max:h,minDefined:d,maxDefined:c}=t.getUserBounds();return{min:d?i:Number.NEGATIVE_INFINITY,max:c?h:Number.POSITIVE_INFINITY}}(S);function g(){d=u[h];let i=d[S.axis];return!N(d[t.axis])||A>i||L<i}for(h=0;h<w&&!(!g()&&(this.updateRangeFromParsed(O,t,d,P),b));++h);if(b){for(h=w-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(O,t,d,P);break}}return O}getAllParsedValues(t){let i,h,d;let c=this._cachedMeta._parsed,u=[];for(i=0,h=c.length;i<h;++i)N(d=c[i][t.axis])&&u.push(d);return u}getMaxOverflow(){return!1}getLabelAndValue(t){let i=this._cachedMeta,h=i.iScale,d=i.vScale,c=this.getParsed(t);return{label:h?""+h.getLabelForValue(c[h.axis]):"",value:d?""+d.getLabelForValue(c[d.axis]):""}}_update(t){var i;let h,d,c,u;let b=this._cachedMeta;this.update(t||"default"),b._clip=(D(i=C(this.options.clip,function(t,i,h){if(!1===h)return!1;let d=ps(t,h),c=ps(i,h);return{top:c.end,right:d.end,bottom:c.start,left:d.start}}(b.xScale,b.yScale,this.getMaxOverflow())))?(h=i.top,d=i.right,c=i.bottom,u=i.left):h=d=c=u=i,{top:h,right:d,bottom:c,left:u,disabled:!1===i})}update(t){}draw(){let t;let i=this._ctx,h=this.chart,d=this._cachedMeta,c=d.data||[],u=h.chartArea,b=[],w=this._drawStart||0,S=this._drawCount||c.length-w,P=this.options.drawActiveElementsOnTop;for(d.dataset&&d.dataset.draw(i,u,w,S),t=w;t<w+S;++t){let h=c[t];h.hidden||(h.active&&P?b.push(h):h.draw(i,u))}for(t=0;t<b.length;++t)b[t].draw(i,u)}getStyle(t,i){let h=i?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(h):this.resolveDataElementOptions(t||0,h)}getContext(t,i,h){var d;let c;let u=this.getDataset();if(t>=0&&t<this._cachedMeta.data.length){let i=this._cachedMeta.data[t];(c=i.$context||(i.$context=vt(this.getContext(),{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"}))).parsed=this.getParsed(t),c.raw=u.data[t],c.index=c.dataIndex=t}else(c=this.$context||(this.$context=vt(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:d=this.index,index:d,mode:"default",type:"dataset"}))).dataset=u,c.index=c.datasetIndex=this.index;return c.active=!!i,c.mode=h,c}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",h){let d="active"===i,c=this._cachedDataOpts,u=t+"-"+i,b=c[u],w=this.enableOptionSharing&&et(h);if(b)return ys(b,w);let S=this.chart.config,P=S.datasetElementScopeKeys(this._type,t),O=d?[`${t}Hover`,"hover",t,""]:[t,""],A=S.getOptionScopes(this.getDataset(),P),L=Object.keys(tl.elements[t]),R=S.resolveNamedOptions(A,L,()=>this.getContext(h,d),O);return R.$shared&&(R.$shared=w,c[u]=Object.freeze(ys(R,w))),R}_resolveAnimations(t,i,h){let d;let c=this.chart,u=this._cachedDataOpts,b=`animation-${i}`,w=u[b];if(w)return w;if(!1!==c.options.animation){let c=this.chart.config,u=c.datasetAnimationScopeKeys(this._type,i),b=c.getOptionScopes(this.getDataset(),u);d=c.createResolver(b,this.getContext(t,h,i))}let S=new Ni(c,d&&d.animations);return d&&d._cacheable&&(u[b]=Object.freeze(S)),S}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||ci(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){let h=this.resolveDataElementOptions(t,i),d=this._sharedOptions,c=this.getSharedOptions(h),u=this.includeOptions(i,c)||c!==d;return this.updateSharedOptions(c,i,h),{sharedOptions:c,includeOptions:u}}updateElement(t,i,h,d){ci(d)?Object.assign(t,h):this._resolveAnimations(i,d).update(t,h)}updateSharedOptions(t,i,h){t&&!ci(i)&&this._resolveAnimations(void 0,i).update(t,h)}_setStyle(t,i,h,d){t.active=d;let c=this.getStyle(i,d);this._resolveAnimations(i,h,d).update(t,{options:!d&&this.getSharedOptions(c)||c})}removeHoverStyle(t,i,h){this._setStyle(t,h,"active",!1)}setHoverStyle(t,i,h){this._setStyle(t,h,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let i=this._data,h=this._cachedMeta.data;for(let[t,i,h]of this._syncList)this[t](i,h);this._syncList=[];let d=h.length,c=i.length,u=Math.min(c,d);u&&this.parse(0,u),c>d?this._insertElements(d,c-d,t):c<d&&this._removeElements(c,d-c)}_insertElements(t,i,h=!0){let d;let c=this._cachedMeta,u=c.data,b=t+i,l=t=>{for(t.length+=i,d=t.length-1;d>=b;d--)t[d]=t[d-i]};for(l(u),d=t;d<b;++d)u[d]=new this.dataElementType;this._parsing&&l(c._parsed),this.parse(t,i),h&&this.updateElements(u,t,i,"reset")}updateElements(t,i,h,d){}_removeElements(t,i){let h=this._cachedMeta;if(this._parsing){let d=h._parsed.splice(t,i);h._stacked&&Yt(h,d)}h.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[i,h,d]=t;this[i](h,d)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);let h=arguments.length-2;h&&this._sync(["_insertElements",t,h])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};function Bn(t,i,h,d){return z(t)?function(t,i,h,d){let c=h.parse(t[0],d),u=h.parse(t[1],d),b=Math.min(c,u),w=Math.max(c,u),S=b,P=w;Math.abs(b)>Math.abs(w)&&(S=w,P=b),i[h.axis]=P,i._custom={barStart:S,barEnd:P,start:c,end:u,min:b,max:w}}(t,i,h,d):i[h.axis]=h.parse(t,d),i}function vs(t,i,h,d){let c,u,b,w;let S=t.iScale,P=t.vScale,O=S.getLabels(),A=S===P,L=[];for(c=h,u=h+d;c<u;++c)w=i[c],(b={})[S.axis]=A||S.parse(O[c],c),L.push(Bn(w,b,P,c));return L}function hi(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Ms(t,i,h,d){var c;return t=d?ks(t=(c=t)===i?h:c===h?i:c,h,i):ks(t,i,h)}function ks(t,i,h){return"start"===t?i:"end"===t?h:t}it.defaults={},it.prototype.datasetElementType=null,it.prototype.dataElementType=null;let ue=class ue extends it{parsePrimitiveData(t,i,h,d){return vs(t,i,h,d)}parseArrayData(t,i,h,d){return vs(t,i,h,d)}parseObjectData(t,i,h,d){let c,u,b,w;let{iScale:S,vScale:P}=t,{xAxisKey:O="x",yAxisKey:A="y"}=this._parsing,L="x"===S.axis?O:A,R="x"===P.axis?O:A,F=[];for(c=h,u=h+d;c<u;++c)w=i[c],(b={})[S.axis]=S.parse(_t(w,L),c),F.push(Bn(_t(w,R),b,P,c));return F}updateRangeFromParsed(t,i,h,d){super.updateRangeFromParsed(t,i,h,d);let c=h._custom;c&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,c.min),t.max=Math.max(t.max,c.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let i=this._cachedMeta,{iScale:h,vScale:d}=i,c=this.getParsed(t),u=c._custom,b=hi(u)?"["+u.start+", "+u.end+"]":""+d.getLabelForValue(c[d.axis]);return{label:""+h.getLabelForValue(c[h.axis]),value:b}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,h,d){let c="reset"===d,{index:u,_cachedMeta:{vScale:b}}=this,w=b.getBasePixel(),S=b.isHorizontal(),P=this._getRuler(),{sharedOptions:O,includeOptions:A}=this._getSharedOptions(i,d);for(let L=i;L<i+h;L++){let i=this.getParsed(L),h=c||T(i[b.axis])?{base:w,head:w}:this._calculateBarValuePixels(L),R=this._calculateBarIndexPixels(L,P),F=(i._stacks||{})[b.axis],B={horizontal:S,base:h.base,enableBorderRadius:!F||hi(i._custom)||u===F._top||u===F._bottom,x:S?h.head:R.center,y:S?R.center:h.head,height:S?R.size:Math.abs(h.size),width:S?Math.abs(h.size):R.size};A&&(B.options=O||this.resolveDataElementOptions(L,t[L].active?"active":d));let V=B.options||t[L].options;(function(t,i,h,d){let c,u,b,w,S,P=i.borderSkipped,O={};if(!P){t.borderSkipped=O;return}if(!0===P){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:A,end:L,reverse:R,top:F,bottom:B}=(t.horizontal?(c=t.base>t.x,u="left",b="right"):(c=t.base<t.y,u="bottom",b="top"),c?(w="end",S="start"):(w="start",S="end"),{start:u,end:b,reverse:c,top:w,bottom:S});"middle"===P&&h&&(t.enableBorderRadius=!0,(h._top||0)===d?P=F:(h._bottom||0)===d?P=B:(O[Ms(B,A,L,R)]=!0,P=F)),O[Ms(P,A,L,R)]=!0,t.borderSkipped=O})(B,V,F,u),function(t,{inflateAmount:i},h){t.inflateAmount="auto"===i?1===h?.33:0:i}(B,V,P.ratio),this.updateElement(t[L],L,B,d)}}_getStacks(t,i){let{iScale:h}=this._cachedMeta,d=h.getMatchingVisibleMetas(this._type).filter(t=>t.controller.options.grouped),c=h.options.stacked,u=[],a=t=>{let h=t.controller.getParsed(i),d=h&&h[t.vScale.axis];if(T(d)||isNaN(d))return!0};for(let h of d)if(!(void 0!==i&&a(h))&&((!1===c||-1===u.indexOf(h.stack)||void 0===c&&void 0===h.stack)&&u.push(h.stack),h.index===t))break;return u.length||u.push(void 0),u}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,h){let d=this._getStacks(t,h),c=void 0!==i?d.indexOf(i):-1;return -1===c?d.length-1:c}_getRuler(){let t,i;let h=this.options,d=this._cachedMeta,c=d.iScale,u=[];for(t=0,i=d.data.length;t<i;++t)u.push(c.getPixelForValue(this.getParsed(t)[c.axis],t));let b=h.barThickness;return{min:b||function(t){let i=t.iScale,h=function(t,i){if(!t._cache.$bar){let h=t.getMatchingVisibleMetas(i),d=[];for(let i=0,c=h.length;i<c;i++)d=d.concat(h[i].controller.getAllParsedValues(t));t._cache.$bar=un(d.sort((t,i)=>t-i))}return t._cache.$bar}(i,t.type),d=i._length,c,u,b,w,l=()=>{32767===b||-32768===b||(et(w)&&(d=Math.min(d,Math.abs(b-w)||d)),w=b)};for(c=0,u=h.length;c<u;++c)b=i.getPixelForValue(h[c]),l();for(w=void 0,c=0,u=i.ticks.length;c<u;++c)b=i.getPixelForTick(c),l();return d}(d),pixels:u,start:c._startPixel,end:c._endPixel,stackCount:this._getStackCount(),scale:c,grouped:h.grouped,ratio:b?1:h.categoryPercentage*h.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:i,_stacked:h},options:{base:d,minBarLength:c}}=this,u=d||0,b=this.getParsed(t),w=b._custom,S=hi(w),P=b[i.axis],O=0,A=h?this.applyStack(i,b,h):P,L,R;A!==P&&(O=A-P,A=P),S&&(P=w.barStart,A=w.barEnd-w.barStart,0!==P&&V(P)!==V(w.barEnd)&&(O=0),O+=P);let F=T(d)||S?O:d,B=i.getPixelForValue(F);if(Math.abs(R=(L=this.chart.getDataVisibility(t)?i.getPixelForValue(O+A):B)-B)<c){var W;R=(0!==(W=R)?V(W):(i.isHorizontal()?1:-1)*(i.min>=u?1:-1))*c,P===u&&(B-=R/2);let t=i.getPixelForDecimal(0),h=i.getPixelForDecimal(1);L=(B=Math.max(Math.min(B,Math.max(t,h)),Math.min(t,h)))+R}if(B===i.getPixelForValue(u)){let t=V(R)*i.getLineWidthForValue(u)/2;B+=t,R-=t}return{size:R,base:B,head:L,center:L+R/2}}_calculateBarIndexPixels(t,i){let h,d;let c=i.scale,u=this.options,b=u.skipNull,w=C(u.maxBarThickness,1/0);if(i.grouped){let c=b?this._getStackCount(t):i.stackCount,S="flex"===u.barThickness?function(t,i,h,d){let c=i.pixels,u=c[t],b=t>0?c[t-1]:null,w=t<c.length-1?c[t+1]:null,S=h.categoryPercentage;null===b&&(b=u-(null===w?i.end-i.start:w-u)),null===w&&(w=u+u-b);let P=u-(u-Math.min(b,w))/2*S;return{chunk:Math.abs(w-b)/2*S/d,ratio:h.barPercentage,start:P}}(t,i,u,c):function(t,i,h,d){let c,u;let b=h.barThickness;return T(b)?(c=i.min*h.categoryPercentage,u=h.barPercentage):(c=b*d,u=1),{chunk:c/d,ratio:u,start:i.pixels[t]-c/2}}(t,i,u,c),P=this._getStackIndex(this.index,this._cachedMeta.stack,b?t:void 0);h=S.start+S.chunk*P+S.chunk/2,d=Math.min(w,S.chunk*S.ratio)}else h=c.getPixelForValue(this.getParsed(t)[c.axis],t),d=Math.min(w,i.min*i.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){let t=this._cachedMeta,i=t.vScale,h=t.data,d=h.length,c=0;for(;c<d;++c)null!==this.getParsed(c)[i.axis]&&h[c].draw(this._ctx)}};ue.id="bar",ue.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},ue.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};let fe=class fe extends it{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,h,d){let c=super.parsePrimitiveData(t,i,h,d);for(let t=0;t<c.length;t++)c[t]._custom=this.resolveDataElementOptions(t+h).radius;return c}parseArrayData(t,i,h,d){let c=super.parseArrayData(t,i,h,d);for(let t=0;t<c.length;t++){let d=i[h+t];c[t]._custom=C(d[2],this.resolveDataElementOptions(t+h).radius)}return c}parseObjectData(t,i,h,d){let c=super.parseObjectData(t,i,h,d);for(let t=0;t<c.length;t++){let d=i[h+t];c[t]._custom=C(d&&d.r&&+d.r,this.resolveDataElementOptions(t+h).radius)}return c}getMaxOverflow(){let t=this._cachedMeta.data,i=0;for(let h=t.length-1;h>=0;--h)i=Math.max(i,t[h].size(this.resolveDataElementOptions(h))/2);return i>0&&i}getLabelAndValue(t){let i=this._cachedMeta,{xScale:h,yScale:d}=i,c=this.getParsed(t),u=h.getLabelForValue(c.x),b=d.getLabelForValue(c.y),w=c._custom;return{label:i.label,value:"("+u+", "+b+(w?", "+w:"")+")"}}update(t){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,h,d){let c="reset"===d,{iScale:u,vScale:b}=this._cachedMeta,{sharedOptions:w,includeOptions:S}=this._getSharedOptions(i,d),P=u.axis,O=b.axis;for(let A=i;A<i+h;A++){let i=t[A],h=!c&&this.getParsed(A),L={},R=L[P]=c?u.getPixelForDecimal(.5):u.getPixelForValue(h[P]),F=L[O]=c?b.getBasePixel():b.getPixelForValue(h[O]);L.skip=isNaN(R)||isNaN(F),S&&(L.options=w||this.resolveDataElementOptions(A,i.active?"active":d),c&&(L.options.radius=0)),this.updateElement(i,A,L,d)}}resolveDataElementOptions(t,i){let h=this.getParsed(t),d=super.resolveDataElementOptions(t,i);d.$shared&&(d=Object.assign({},d,{$shared:!1}));let c=d.radius;return"active"!==i&&(d.radius=0),d.radius+=C(h&&h._custom,c),d}};fe.id="bubble",fe.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},fe.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};let Lt=class Lt extends it{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){let h=this.getDataset().data,d=this._cachedMeta;if(!1===this._parsing)d._parsed=h;else{let c,u,o=t=>+h[t];if(D(h[t])){let{key:t="value"}=this._parsing;o=i=>+_t(h[i],t)}for(c=t,u=t+i;c<u;++c)d._parsed[c]=o(c)}}_getRotation(){return nt(this.options.rotation-90)}_getCircumference(){return nt(this.options.circumference)}_getRotationExtents(){let t=S,i=-S;for(let h=0;h<this.chart.data.datasets.length;++h)if(this.chart.isDatasetVisible(h)){let d=this.chart.getDatasetMeta(h).controller,c=d._getRotation(),u=d._getCircumference();t=Math.min(t,c),i=Math.max(i,c+u)}return{rotation:t,circumference:i-t}}update(t){let i=this.chart,{chartArea:h}=i,d=this._cachedMeta,c=d.data,u=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,b=Math.max((Math.min(h.width,h.height)-u)/2,0),P=Math.min(yo(this.options.cutout,b),1),O=this._getRingWeight(this.index),{circumference:A,rotation:R}=this._getRotationExtents(),{ratioX:F,ratioY:B,offsetX:V,offsetY:W}=function(t,i,h){let d=1,c=1,u=0,b=0;if(i<S){let S=t+i,P=Math.cos(t),O=Math.sin(t),A=Math.cos(S),R=Math.sin(S),f=(i,d,c)=>oe(i,t,S,!0)?1:Math.max(d,d*h,c,c*h),g=(i,d,c)=>oe(i,t,S,!0)?-1:Math.min(d,d*h,c,c*h),F=f(0,P,A),B=f(L,O,R),V=g(w,P,A),W=g(w+L,O,R);d=(F-V)/2,c=(B-W)/2,u=-(F+V)/2,b=-(B+W)/2}return{ratioX:d,ratioY:c,offsetX:u,offsetY:b}}(R,A,P),H=(h.width-u)/F,j=(h.height-u)/B,X=an(this.options.radius,Math.max(Math.min(H,j)/2,0)),q=Math.max(X*P,0),G=(X-q)/this._getVisibleDatasetWeightTotal();this.offsetX=V*X,this.offsetY=W*X,d.total=this.calculateTotal(),this.outerRadius=X-G*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-G*O,0),this.updateElements(c,0,c.length,t)}_circumference(t,i){let h=this.options,d=this._cachedMeta,c=this._getCircumference();return i&&h.animation.animateRotate||!this.chart.getDataVisibility(t)||null===d._parsed[t]||d.data[t].hidden?0:this.calculateCircumference(d._parsed[t]*c/S)}updateElements(t,i,h,d){let c="reset"===d,u=this.chart,b=u.chartArea,w=u.options.animation,S=(b.left+b.right)/2,P=(b.top+b.bottom)/2,O=c&&w.animateScale,A=O?0:this.innerRadius,L=O?0:this.outerRadius,{sharedOptions:R,includeOptions:F}=this._getSharedOptions(i,d),B=this._getRotation(),V;for(V=0;V<i;++V)B+=this._circumference(V,c);for(V=i;V<i+h;++V){let i=this._circumference(V,c),h=t[V],u={x:S+this.offsetX,y:P+this.offsetY,startAngle:B,endAngle:B+i,circumference:i,outerRadius:L,innerRadius:A};F&&(u.options=R||this.resolveDataElementOptions(V,h.active?"active":d)),B+=i,this.updateElement(h,V,u,d)}}calculateTotal(){let t=this._cachedMeta,i=t.data,h=0,d;for(d=0;d<i.length;d++){let c=t._parsed[d];null!==c&&!isNaN(c)&&this.chart.getDataVisibility(d)&&!i[d].hidden&&(h+=Math.abs(c))}return h}calculateCircumference(t){let i=this._cachedMeta.total;return i>0&&!isNaN(t)?S*(Math.abs(t)/i):0}getLabelAndValue(t){let i=this._cachedMeta,h=this.chart,d=h.data.labels||[],c=de(i._parsed[t],h.options.locale);return{label:d[t]||"",value:c}}getMaxBorderWidth(t){let i,h,d,c,u,b=0,w=this.chart;if(!t){for(i=0,h=w.data.datasets.length;i<h;++i)if(w.isDatasetVisible(i)){t=(d=w.getDatasetMeta(i)).data,c=d.controller;break}}if(!t)return 0;for(i=0,h=t.length;i<h;++i)"inner"!==(u=c.resolveDataElementOptions(i)).borderAlign&&(b=Math.max(b,u.borderWidth||0,u.hoverBorderWidth||0));return b}getMaxOffset(t){let i=0;for(let h=0,d=t.length;h<d;++h){let t=this.resolveDataElementOptions(h);i=Math.max(i,t.offset||0,t.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let h=0;h<t;++h)this.chart.isDatasetVisible(h)&&(i+=this._getRingWeight(h));return i}_getRingWeight(t){return Math.max(C(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}};Lt.id="doughnut",Lt.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Lt.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},Lt.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let i=t.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:h}}=t.legend.options;return i.labels.map((i,d)=>{let c=t.getDatasetMeta(0).controller.getStyle(d);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,pointStyle:h,hidden:!t.getDataVisibility(d),index:d}})}return[]}},onClick(t,i,h){h.chart.toggleDataVisibility(i.index),h.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let i=t.label,h=": "+t.formattedValue;return z(i)?(i=i.slice(),i[0]+=h):i+=h,i}}}}};let ge=class ge extends it{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let i=this._cachedMeta,{dataset:h,data:d=[],_dataset:c}=i,u=this.chart._animationsDisabled,{start:b,count:w}=pn(i,d,u);this._drawStart=b,this._drawCount=w,mn(i)&&(b=0,w=d.length),h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!c._decimated,h.points=d;let S=this.resolveDatasetElementOptions(t);this.options.showLine||(S.borderWidth=0),S.segment=this.options.segment,this.updateElement(h,void 0,{animated:!u,options:S},t),this.updateElements(d,b,w,t)}updateElements(t,i,h,d){let c="reset"===d,{iScale:u,vScale:b,_stacked:w,_dataset:S}=this._cachedMeta,{sharedOptions:P,includeOptions:O}=this._getSharedOptions(i,d),A=u.axis,L=b.axis,{spanGaps:R,segment:F}=this.options,B=Bt(R)?R:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||c||"none"===d,W=i>0&&this.getParsed(i-1);for(let R=i;R<i+h;++R){let i=t[R],h=this.getParsed(R),H=V?i:{},j=T(h[L]),X=H[A]=u.getPixelForValue(h[A],R),q=H[L]=c||j?b.getBasePixel():b.getPixelForValue(w?this.applyStack(b,h,w):h[L],R);H.skip=isNaN(X)||isNaN(q)||j,H.stop=R>0&&Math.abs(h[A]-W[A])>B,F&&(H.parsed=h,H.raw=S.data[R]),O&&(H.options=P||this.resolveDataElementOptions(R,i.active?"active":d)),V||this.updateElement(i,R,H,d),W=h}}getMaxOverflow(){let t=this._cachedMeta,i=t.dataset,h=i.options&&i.options.borderWidth||0,d=t.data||[];if(!d.length)return h;let c=d[0].size(this.resolveDataElementOptions(0)),u=d[d.length-1].size(this.resolveDataElementOptions(d.length-1));return Math.max(h,c,u)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}};ge.id="line",ge.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},ge.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};let pe=class pe extends it{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let i=this._cachedMeta,h=this.chart,d=h.data.labels||[],c=de(i._parsed[t].r,h.options.locale);return{label:d[t]||"",value:c}}parseObjectData(t,i,h,d){return Dn.bind(this)(t,i,h,d)}update(t){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){let t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((t,h)=>{let d=this.getParsed(h).r;!isNaN(d)&&this.chart.getDataVisibility(h)&&(d<i.min&&(i.min=d),d>i.max&&(i.max=d))}),i}_updateRadius(){let t=this.chart,i=t.chartArea,h=t.options,d=Math.min(i.right-i.left,i.bottom-i.top),c=Math.max(d/2,0),u=Math.max(h.cutoutPercentage?c/100*h.cutoutPercentage:1,0),b=(c-u)/t.getVisibleDatasetCount();this.outerRadius=c-b*this.index,this.innerRadius=this.outerRadius-b}updateElements(t,i,h,d){let c="reset"===d,u=this.chart,b=u.options.animation,S=this._cachedMeta.rScale,P=S.xCenter,O=S.yCenter,A=S.getIndexAngle(0)-.5*w,L=A,R,F=360/this.countVisibleElements();for(R=0;R<i;++R)L+=this._computeAngle(R,d,F);for(R=i;R<i+h;R++){let i=t[R],h=L,w=L+this._computeAngle(R,d,F),B=u.getDataVisibility(R)?S.getDistanceFromCenterForValue(this.getParsed(R).r):0;L=w,c&&(b.animateScale&&(B=0),b.animateRotate&&(h=w=A));let V={x:P,y:O,innerRadius:0,outerRadius:B,startAngle:h,endAngle:w,options:this.resolveDataElementOptions(R,i.active?"active":d)};this.updateElement(i,R,V,d)}}countVisibleElements(){let t=this._cachedMeta,i=0;return t.data.forEach((t,h)=>{!isNaN(this.getParsed(h).r)&&this.chart.getDataVisibility(h)&&i++}),i}_computeAngle(t,i,h){return this.chart.getDataVisibility(t)?nt(this.resolveDataElementOptions(t,i).angle||h):0}};pe.id="polarArea",pe.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},pe.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let i=t.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:h}}=t.legend.options;return i.labels.map((i,d)=>{let c=t.getDatasetMeta(0).controller.getStyle(d);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,pointStyle:h,hidden:!t.getDataVisibility(d),index:d}})}return[]}},onClick(t,i,h){h.chart.toggleDataVisibility(i.index),h.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};let qe=class qe extends Lt{};qe.id="pie",qe.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};let me=class me extends it{getLabelAndValue(t){let i=this._cachedMeta.vScale,h=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(h[i.axis])}}parseObjectData(t,i,h,d){return Dn.bind(this)(t,i,h,d)}update(t){let i=this._cachedMeta,h=i.dataset,d=i.data||[],c=i.iScale.getLabels();if(h.points=d,"resize"!==t){let i=this.resolveDatasetElementOptions(t);this.options.showLine||(i.borderWidth=0);let u={_loop:!0,_fullLoop:c.length===d.length,options:i};this.updateElement(h,void 0,u,t)}this.updateElements(d,0,d.length,t)}updateElements(t,i,h,d){let c=this._cachedMeta.rScale,u="reset"===d;for(let b=i;b<i+h;b++){let i=t[b],h=this.resolveDataElementOptions(b,i.active?"active":d),w=c.getPointPositionForValue(b,this.getParsed(b).r),S=u?c.xCenter:w.x,P=u?c.yCenter:w.y,O={x:S,y:P,angle:w.angle,skip:isNaN(S)||isNaN(P),options:h};this.updateElement(i,b,O,d)}}};me.id="radar",me.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},me.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};let st=class st{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){let{x:i,y:h}=this.getProps(["x","y"],t);return{x:i,y:h}}hasValue(){return Bt(this.x)&&Bt(this.y)}getProps(t,i){let h=this.$animations;if(!i||!h)return this;let d={};return t.forEach(t=>{d[t]=h[t]&&h[t].active()?h[t]._to:this[t]}),d}};st.defaults={},st.defaultRoutes=void 0;let t_={values:t=>z(t)?t:""+t,numeric(t,i,h){if(0===t)return"0";let d=this.chart.options.locale,c,u=t;if(h.length>1){let i;let d=Math.max(Math.abs(h[0].value),Math.abs(h[h.length-1].value));(d<1e-4||d>1e15)&&(c="scientific"),Math.abs(i=h.length>3?h[2].value-h[1].value:h[1].value-h[0].value)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t)),u=i}let b=B(Math.abs(u)),w=Math.max(Math.min(-1*Math.floor(b),20),0),S={notation:c,minimumFractionDigits:w,maximumFractionDigits:w};return Object.assign(S,this.options.ticks.format),de(t,d,S)},logarithmic(t,i,h){if(0===t)return"0";let d=t/Math.pow(10,Math.floor(B(t)));return 1===d||2===d||5===d?t_.numeric.call(this,t,i,h):""}};var ty={formatters:t_};function Oe(t,i,h,d,c){let u=C(d,0),b=Math.min(C(c,t.length),t.length),w=0,S,P,O;for(h=Math.ceil(h),c&&(h=(S=c-d)/Math.floor(S/h)),O=u;O<0;)O=Math.round(u+ ++w*h);for(P=Math.max(u,0);P<b;P++)P===O&&(i.push(t[P]),O=Math.round(u+ ++w*h))}tl.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ty.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),tl.route("scale.ticks","color","","color"),tl.route("scale.grid","color","","borderColor"),tl.route("scale.grid","borderColor","","borderColor"),tl.route("scale.title","color","","color"),tl.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),tl.describe("scales",{_fallback:"scale"}),tl.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});let Ta=t=>"left"===t?"right":"right"===t?"left":t,ws=(t,i,h)=>"top"===i||"left"===i?t[i]+h:t[i]-h;function Ss(t,i){let h=[],d=t.length/i,c=t.length,u=0;for(;u<c;u+=d)h.push(t[Math.floor(u)]);return h}function Xt(t){return t.drawTicks?t.tickLength:0}function Ps(t,i){if(!t.display)return 0;let h=$(t.font,i),d=K(t.padding);return(z(t.text)?t.text.length:1)*h.lineHeight+d.height}let Mt=class Mt extends st{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:h,_suggestedMax:d}=this;return t=Q(t,Number.POSITIVE_INFINITY),i=Q(i,Number.NEGATIVE_INFINITY),h=Q(h,Number.POSITIVE_INFINITY),d=Q(d,Number.NEGATIVE_INFINITY),{min:Q(t,h),max:Q(i,d),minDefined:N(t),maxDefined:N(i)}}getMinMax(t){let{min:i,max:h,minDefined:d,maxDefined:c}=this.getUserBounds(),u;if(d&&c)return{min:i,max:h};let b=this.getMatchingVisibleMetas();for(let w=0,S=b.length;w<S;++w)u=b[w].controller.getMinMax(this,t),d||(i=Math.min(i,u.min)),c||(h=Math.max(h,u.max));return i=c&&i>h?h:i,h=d&&i>h?i:h,{min:Q(i,Q(h,i)),max:Q(h,Q(i,h))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){I(this.options.beforeUpdate,[this])}update(t,i,h){let{beginAtZero:d,grace:c,ticks:u}=this.options,b=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=h=Object.assign({left:0,right:0,top:0,bottom:0},h),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+h.left+h.right:this.height+h.top+h.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,i,h){let{min:d,max:c}=t,u=an(i,(c-d)/2),r=(t,i)=>h&&0===t?0:t+i;return{min:r(d,-Math.abs(u)),max:r(c,u)}}(this,c,d),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let w=b<this.ticks.length;this._convertTicksToLabels(w?Ss(this.ticks,b):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||"auto"===u.source)&&(this.ticks=function(t,i){let h=t.options.ticks,d=h.maxTicksLimit||function(t){let i=t.options.offset,h=t._tickSize(),d=t._length/h+(i?0:1),c=t._maxLength/h;return Math.floor(Math.min(d,c))}(t),c=h.major.enabled?function(t){let i,h;let d=[];for(i=0,h=t.length;i<h;i++)t[i].major&&d.push(i);return d}(i):[],u=c.length,b=c[0],w=c[u-1],S=[];if(u>d)return function(t,i,h,d){let c=0,u=h[0],b;for(d=Math.ceil(d),b=0;b<t.length;b++)b===u&&(i.push(t[b]),u=h[++c*d])}(i,S,c,u/d),S;let P=function(t,i,h){let d=function(t){let i,h;let d=t.length;if(d<2)return!1;for(h=t[0],i=1;i<d;++i)if(t[i]-t[i-1]!==h)return!1;return h}(t),c=i.length/h;if(!d)return Math.max(c,1);let u=function(t){let i;let h=[],d=Math.sqrt(t);for(i=1;i<d;i++)t%i==0&&(h.push(i),h.push(t/i));return d===(0|d)&&h.push(d),h.sort((t,i)=>t-i).pop(),h}(d);for(let t=0,i=u.length-1;t<i;t++){let i=u[t];if(i>c)return i}return Math.max(c,1)}(c,i,d);if(u>0){let t,h;let d=u>1?Math.round((w-b)/(u-1)):null;for(Oe(i,S,P,T(d)?0:b-d,b),t=0,h=u-1;t<h;t++)Oe(i,S,P,c[t],c[t+1]);return Oe(i,S,P,w,T(d)?i.length:w+d),S}return Oe(i,S,P),S}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),w&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,h;this.isHorizontal()?(i=this.left,h=this.right):(i=this.top,h=this.bottom,t=!t),this._startPixel=i,this._endPixel=h,this._reversePixels=t,this._length=h-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){I(this.options.afterUpdate,[this])}beforeSetDimensions(){I(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){I(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),I(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){I(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let i,h,d;let c=this.options.ticks;for(i=0,h=t.length;i<h;i++)(d=t[i]).label=I(c.callback,[d.value,i,t],this)}afterTickToLabelConversion(){I(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){I(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,i=t.ticks,h=this.ticks.length,d=i.minRotation||0,c=i.maxRotation,u=d,b,S,P;if(!this._isVisible()||!i.display||d>=c||h<=1||!this.isHorizontal()){this.labelRotation=d;return}let O=this._getLabelSizes(),A=O.widest.width,L=O.highest.height,R=Y(this.chart.width-A,0,this.maxWidth);A+6>(b=t.offset?this.maxWidth/h:R/(h-1))&&(b=R/(h-(t.offset?.5:1)),S=this.maxHeight-Xt(t.grid)-i.padding-Ps(t.title,this.chart.options.font),P=Math.sqrt(A*A+L*L),u=Math.max(d,Math.min(c,u=Math.min(Math.asin(Y((O.highest.height+6)/b,-1,1)),Math.asin(Y(S/P,-1,1))-Math.asin(Y(L/P,-1,1)))*(180/w)))),this.labelRotation=u}afterCalculateLabelRotation(){I(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){I(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:i,options:{ticks:h,title:d,grid:c}}=this,u=this._isVisible(),b=this.isHorizontal();if(u){let u=Ps(d,i.options.font);if(b?(t.width=this.maxWidth,t.height=Xt(c)+u):(t.height=this.maxHeight,t.width=Xt(c)+u),h.display&&this.ticks.length){let{first:i,last:d,widest:c,highest:u}=this._getLabelSizes(),w=2*h.padding,S=nt(this.labelRotation),P=Math.cos(S),O=Math.sin(S);if(b){let i=h.mirror?0:O*c.width+P*u.height;t.height=Math.min(this.maxHeight,t.height+i+w)}else{let i=h.mirror?0:P*c.width+O*u.height;t.width=Math.min(this.maxWidth,t.width+i+w)}this._calculatePadding(i,d,O,P)}}this._handleMargins(),b?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,h,d){let{ticks:{align:c,padding:u},position:b}=this.options,w=0!==this.labelRotation,S="top"!==b&&"x"===this.axis;if(this.isHorizontal()){let b=this.getPixelForTick(0)-this.left,P=this.right-this.getPixelForTick(this.ticks.length-1),O=0,A=0;w?S?(O=d*t.width,A=h*i.height):(O=h*t.height,A=d*i.width):"start"===c?A=i.width:"end"===c?O=t.width:"inner"!==c&&(O=t.width/2,A=i.width/2),this.paddingLeft=Math.max((O-b+u)*this.width/(this.width-b),0),this.paddingRight=Math.max((A-P+u)*this.width/(this.width-P),0)}else{let h=i.height/2,d=t.height/2;"start"===c?(h=0,d=t.height):"end"===c&&(h=i.height,d=0),this.paddingTop=h+u,this.paddingBottom=d+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){I(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:i}=this.options;return"top"===i||"bottom"===i||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let i,h;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),i=0,h=t.length;i<h;i++)T(t[i].label)&&(t.splice(i,1),h--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let i=this.options.ticks.sampleSize,h=this.ticks;i<h.length&&(h=Ss(h,i)),this._labelSizes=t=this._computeLabelSizes(h,h.length)}return t}_computeLabelSizes(t,i){let{ctx:h,_longestTextCache:d}=this,c=[],u=[],b=0,w=0,S,P,O,A,L,R,F,B,V,W,H;for(S=0;S<i;++S){if(A=t[S].label,L=this._resolveTickFontOptions(S),h.font=R=L.string,F=d[R]=d[R]||{data:{},gc:[]},B=L.lineHeight,V=W=0,T(A)||z(A)){if(z(A))for(P=0,O=A.length;P<O;++P)T(H=A[P])||z(H)||(V=Ne(h,F.data,F.gc,V,H),W+=B)}else V=Ne(h,F.data,F.gc,V,A),W=B;c.push(V),u.push(W),b=Math.max(V,b),w=Math.max(W,w)}E(d,t=>{let h;let d=t.gc,c=d.length/2;if(c>i){for(h=0;h<c;++h)delete t.data[d[h]];d.splice(0,c)}});let j=c.indexOf(b),X=u.indexOf(w),M=t=>({width:c[t]||0,height:u[t]||0});return{first:M(0),last:M(i-1),widest:M(j),highest:M(X),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){let i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let i=this._startPixel+t*this._length;return Y(this._alignToPixels?wt(this.chart,i,0):i,-32768,32767)}getDecimalForPixel(t){let i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){let i=this.ticks||[];if(t>=0&&t<i.length){let h=i[t];return h.$context||(h.$context=vt(this.getContext(),{tick:h,index:t,type:"tick"}))}return this.$context||(this.$context=vt(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){let t=this.options.ticks,i=nt(this.labelRotation),h=Math.abs(Math.cos(i)),d=Math.abs(Math.sin(i)),c=this._getLabelSizes(),u=t.autoSkipPadding||0,b=c?c.widest.width+u:0,w=c?c.highest.height+u:0;return this.isHorizontal()?w*h>b*d?b/h:w/d:w*d<b*h?w/h:b/d}_isVisible(){let t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let i,h,d,c,u,b,w,S,P,O,A,L;let R=this.axis,F=this.chart,B=this.options,{grid:V,position:W}=B,H=V.offset,j=this.isHorizontal(),X=this.ticks.length+(H?1:0),q=Xt(V),G=[],J=V.setContext(this.getContext()),tt=J.drawBorder?J.borderWidth:0,ti=tt/2,m=function(t){return wt(F,t,tt)};if("top"===W)i=m(this.bottom),b=this.bottom-q,S=i-ti,O=m(t.top)+ti,L=t.bottom;else if("bottom"===W)i=m(this.top),O=t.top,L=m(t.bottom)-ti,b=i+ti,S=this.top+q;else if("left"===W)i=m(this.right),u=this.right-q,w=i-ti,P=m(t.left)+ti,A=t.right;else if("right"===W)i=m(this.left),P=t.left,A=m(t.right)-ti,u=i+ti,w=this.left+q;else if("x"===R){if("center"===W)i=m((t.top+t.bottom)/2+.5);else if(D(W)){let t=Object.keys(W)[0],h=W[t];i=m(this.chart.scales[t].getPixelForValue(h))}O=t.top,L=t.bottom,S=(b=i+ti)+q}else if("y"===R){if("center"===W)i=m((t.left+t.right)/2);else if(D(W)){let t=Object.keys(W)[0],h=W[t];i=m(this.chart.scales[t].getPixelForValue(h))}w=(u=i-ti)-q,P=t.left,A=t.right}let ta=C(B.ticks.maxTicksLimit,X),tr=Math.max(1,Math.ceil(X/ta));for(h=0;h<X;h+=tr){let t=V.setContext(this.getContext(h)),i=t.lineWidth,R=t.color,B=t.borderDash||[],W=t.borderDashOffset,X=t.tickWidth,q=t.tickColor,J=t.tickBorderDash||[],tt=t.tickBorderDashOffset;void 0!==(d=function(t,i,h){let d=t.ticks.length,c=Math.min(i,d-1),u=t._startPixel,b=t._endPixel,w=t.getPixelForTick(c),S;if(!(h&&(S=1===d?Math.max(w-u,b-w):0===i?(t.getPixelForTick(1)-w)/2:(w-t.getPixelForTick(c-1))/2,(w+=c<i?S:-S)<u-1e-6||w>b+1e-6)))return w}(this,h,H))&&(c=wt(F,d,i),j?u=w=P=A=c:b=S=O=L=c,G.push({tx1:u,ty1:b,tx2:w,ty2:S,x1:P,y1:O,x2:A,y2:L,width:i,color:R,borderDash:B,borderDashOffset:W,tickWidth:X,tickColor:q,tickBorderDash:J,tickBorderDashOffset:tt}))}return this._ticksLength=X,this._borderValue=i,G}_computeLabelItems(t){let i=this.axis,h=this.options,{position:d,ticks:c}=h,u=this.isHorizontal(),b=this.ticks,{align:w,crossAlign:S,padding:P,mirror:O}=c,A=Xt(h.grid),L=A+P,R=O?-P:L,F=-nt(this.labelRotation),B=[],V,W,H,j,X,q,G,J,tt,ti,ta,tr="middle";if("top"===d)X=this.bottom-R,q=this._getXAxisLabelAlignment();else if("bottom"===d)X=this.top+R,q=this._getXAxisLabelAlignment();else if("left"===d){let t=this._getYAxisLabelAlignment(A);q=t.textAlign,j=t.x}else if("right"===d){let t=this._getYAxisLabelAlignment(A);q=t.textAlign,j=t.x}else if("x"===i){if("center"===d)X=(t.top+t.bottom)/2+L;else if(D(d)){let t=Object.keys(d)[0],i=d[t];X=this.chart.scales[t].getPixelForValue(i)+L}q=this._getXAxisLabelAlignment()}else if("y"===i){if("center"===d)j=(t.left+t.right)/2-L;else if(D(d)){let t=Object.keys(d)[0],i=d[t];j=this.chart.scales[t].getPixelForValue(i)}q=this._getYAxisLabelAlignment(A).textAlign}"y"===i&&("start"===w?tr="top":"end"===w&&(tr="bottom"));let tl=this._getLabelSizes();for(V=0,W=b.length;V<W;++V){let t;H=b[V].label;let i=c.setContext(this.getContext(V));G=this.getPixelForTick(V)+c.labelOffset,tt=(J=this._resolveTickFontOptions(V)).lineHeight,ti=z(H)?H.length:1;let h=ti/2,w=i.color,P=i.textStrokeColor,A=i.textStrokeWidth,L=q;if(u?(j=G,"inner"===q&&(L=V===W-1?this.options.reverse?"left":"right":0===V?this.options.reverse?"right":"left":"center"),ta="top"===d?"near"===S||0!==F?-ti*tt+tt/2:"center"===S?-tl.highest.height/2-h*tt+tt:-tl.highest.height+tt/2:"near"===S||0!==F?tt/2:"center"===S?tl.highest.height/2-h*tt:tl.highest.height-ti*tt,O&&(ta*=-1)):(X=G,ta=(1-ti)*tt/2),i.showLabelBackdrop){let h=K(i.backdropPadding),d=tl.heights[V],c=tl.widths[V],u=X+ta-h.top,b=j-h.left;switch(tr){case"middle":u-=d/2;break;case"bottom":u-=d}switch(q){case"center":b-=c/2;break;case"right":b-=c}t={left:b,top:u,width:c+h.width,height:d+h.height,color:i.backdropColor}}B.push({rotation:F,label:H,font:J,color:w,strokeColor:P,strokeWidth:A,textOffset:ta,textAlign:L,textBaseline:tr,translation:[j,X],backdrop:t})}return B}_getXAxisLabelAlignment(){let{position:t,ticks:i}=this.options;if(-nt(this.labelRotation))return"top"===t?"left":"right";let h="center";return"start"===i.align?h="left":"end"===i.align?h="right":"inner"===i.align&&(h="inner"),h}_getYAxisLabelAlignment(t){let i,h;let{position:d,ticks:{crossAlign:c,mirror:u,padding:b}}=this.options,w=this._getLabelSizes(),S=t+b,P=w.widest.width;return"left"===d?u?(h=this.right+b,"near"===c?i="left":"center"===c?(i="center",h+=P/2):(i="right",h+=P)):(h=this.right-S,"near"===c?i="right":"center"===c?(i="center",h-=P/2):(i="left",h=this.left)):"right"===d?u?(h=this.left+b,"near"===c?i="right":"center"===c?(i="center",h-=P/2):(i="left",h-=P)):(h=this.left+S,"near"===c?i="left":"center"===c?(i="center",h+=P/2):(i="right",h=this.right)):i="right",{textAlign:i,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,i=this.options.position;return"left"===i||"right"===i?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===i||"bottom"===i?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){let{ctx:t,options:{backgroundColor:i},left:h,top:d,width:c,height:u}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(h,d,c,u),t.restore())}getLineWidthForValue(t){let i=this.options.grid;if(!this._isVisible()||!i.display)return 0;let h=this.ticks.findIndex(i=>i.value===t);return h>=0?i.setContext(this.getContext(h)).lineWidth:0}drawGrid(t){let i,h;let d=this.options.grid,c=this.ctx,u=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),a=(t,i,h)=>{h.width&&h.color&&(c.save(),c.lineWidth=h.width,c.strokeStyle=h.color,c.setLineDash(h.borderDash||[]),c.lineDashOffset=h.borderDashOffset,c.beginPath(),c.moveTo(t.x,t.y),c.lineTo(i.x,i.y),c.stroke(),c.restore())};if(d.display)for(i=0,h=u.length;i<h;++i){let t=u[i];d.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),d.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){let t,i,h,d;let{chart:c,ctx:u,options:{grid:b}}=this,w=b.setContext(this.getContext()),S=b.drawBorder?w.borderWidth:0;if(!S)return;let P=b.setContext(this.getContext(0)).lineWidth,O=this._borderValue;this.isHorizontal()?(t=wt(c,this.left,S)-S/2,i=wt(c,this.right,P)+P/2,h=d=O):(h=wt(c,this.top,S)-S/2,d=wt(c,this.bottom,P)+P/2,t=i=O),u.save(),u.lineWidth=w.borderWidth,u.strokeStyle=w.borderColor,u.beginPath(),u.moveTo(t,h),u.lineTo(i,d),u.stroke(),u.restore()}drawLabels(t){let i,h;if(!this.options.ticks.display)return;let d=this.ctx,c=this._computeLabelArea();c&&Xe(d,c);let u=this._labelItems||(this._labelItems=this._computeLabelItems(t));for(i=0,h=u.length;i<h;++i){let t=u[i],h=t.font,c=t.label;t.backdrop&&(d.fillStyle=t.backdrop.color,d.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height)),Tt(d,c,0,t.textOffset,h,t)}c&&Ue(d)}drawTitle(){let t;let{ctx:i,options:{position:h,title:d,reverse:c}}=this;if(!d.display)return;let u=$(d.font),b=K(d.padding),w=d.align,S=u.lineHeight/2;"bottom"===h||"center"===h||D(h)?(S+=b.bottom,z(d.text)&&(S+=u.lineHeight*(d.text.length-1))):S+=b.top;let{titleX:P,titleY:O,maxWidth:A,rotation:R}=function(t,i,h,d){let{top:c,left:u,bottom:b,right:w,chart:S}=t,{chartArea:P,scales:O}=S,A=0,R,F,B,V=b-c,W=w-u;if(t.isHorizontal()){if(F=U(d,u,w),D(h)){let t=Object.keys(h)[0],d=h[t];B=O[t].getPixelForValue(d)+V-i}else B="center"===h?(P.bottom+P.top)/2+V-i:ws(t,h,i);R=w-u}else{if(D(h)){let t=Object.keys(h)[0],d=h[t];F=O[t].getPixelForValue(d)-W+i}else F="center"===h?(P.left+P.right)/2-W+i:ws(t,h,i);B=U(d,b,c),A="left"===h?-L:L}return{titleX:F,titleY:B,maxWidth:R,rotation:A}}(this,S,h,w);Tt(i,d.text,0,0,u,{color:d.color,maxWidth:A,rotation:R,textAlign:(t=Li(w),(c&&"right"!==h||!c&&"right"===h)&&(t=Ta(t)),t),textBaseline:"middle",translation:[P,O]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,i=t.ticks&&t.ticks.z||0,h=C(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===Mt.prototype.draw?[{z:h,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:h+1,draw:()=>{this.drawBorder()}},{z:i,draw:t=>{this.drawLabels(t)}}]:[{z:i,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){let i,h;let d=this.chart.getSortedVisibleDatasetMetas(),c=this.axis+"AxisID",u=[];for(i=0,h=d.length;i<h;++i){let h=d[i];h[c]!==this.id||t&&h.type!==t||u.push(h)}return u}_resolveTickFontOptions(t){let i=this.options.ticks.setContext(this.getContext(t));return $(i.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}};let Ae=class Ae{constructor(t,i,h){this.type=t,this.scope=i,this.override=h,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let i;let h=Object.getPrototypeOf(t);"id"in h&&"defaults"in h&&(i=this.register(h));let d=this.items,c=t.id,u=this.scope+"."+c;if(!c)throw Error("class does not have id: "+t);return c in d||(d[c]=t,function(t,i,h){let d=ne(Object.create(null),[h?tl.get(h):{},tl.get(i),t.defaults]);tl.set(i,d),t.defaultRoutes&&function(t,i){Object.keys(i).forEach(h=>{let d=h.split("."),c=d.pop(),u=[t].concat(d).join("."),b=i[h].split("."),w=b.pop(),S=b.join(".");tl.route(u,c,S,w)})}(i,t.defaultRoutes),t.descriptors&&tl.describe(i,t.descriptors)}(t,u,i),this.override&&tl.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){let i=this.items,h=t.id,d=this.scope;h in i&&delete i[h],d&&h in tl[d]&&(delete tl[d][h],this.override&&delete ta[h])}};var tv=new class{constructor(){this.controllers=new Ae(it,"datasets",!0),this.elements=new Ae(st,"elements"),this.plugins=new Ae(Object,"plugins"),this.scales=new Ae(Mt,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,h){[...i].forEach(i=>{let d=h||this._getRegistryForType(i);h||d.isForType(i)||d===this.plugins&&i.id?this._exec(t,d,i):E(i,i=>{let d=h||this._getRegistryForType(i);this._exec(t,d,i)})})}_exec(t,i,h){let d=Oi(t);I(h["before"+d],[],h),i[t](h),I(h["after"+d],[],h)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){let h=this._typedRegistries[i];if(h.isForType(t))return h}return this.plugins}_get(t,i,h){let d=i.get(t);if(void 0===d)throw Error('"'+t+'" is not a registered '+h+".");return d}};let xe=class xe extends it{update(t){let i=this._cachedMeta,{data:h=[]}=i,d=this.chart._animationsDisabled,{start:c,count:u}=pn(i,h,d);if(this._drawStart=c,this._drawCount=u,mn(i)&&(c=0,u=h.length),this.options.showLine){let{dataset:c,_dataset:u}=i;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!u._decimated,c.points=h;let b=this.resolveDatasetElementOptions(t);b.segment=this.options.segment,this.updateElement(c,void 0,{animated:!d,options:b},t)}this.updateElements(h,c,u,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=tv.getElement("line")),super.addElements()}updateElements(t,i,h,d){let c="reset"===d,{iScale:u,vScale:b,_stacked:w,_dataset:S}=this._cachedMeta,P=this.resolveDataElementOptions(i,d),O=this.getSharedOptions(P),A=this.includeOptions(d,O),L=u.axis,R=b.axis,{spanGaps:F,segment:B}=this.options,V=Bt(F)?F:Number.POSITIVE_INFINITY,W=this.chart._animationsDisabled||c||"none"===d,H=i>0&&this.getParsed(i-1);for(let P=i;P<i+h;++P){let i=t[P],h=this.getParsed(P),F=W?i:{},j=T(h[R]),X=F[L]=u.getPixelForValue(h[L],P),q=F[R]=c||j?b.getBasePixel():b.getPixelForValue(w?this.applyStack(b,h,w):h[R],P);F.skip=isNaN(X)||isNaN(q)||j,F.stop=P>0&&Math.abs(h[L]-H[L])>V,B&&(F.parsed=h,F.raw=S.data[P]),A&&(F.options=O||this.resolveDataElementOptions(P,i.active?"active":d)),W||this.updateElement(i,P,F,d),H=h}this.updateSharedOptions(O,d,P)}getMaxOverflow(){let t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let t=0;for(let h=i.length-1;h>=0;--h)t=Math.max(t,i[h].size(this.resolveDataElementOptions(h))/2);return t>0&&t}let h=t.dataset,d=h.options&&h.options.borderWidth||0;if(!i.length)return d;let c=i[0].size(this.resolveDataElementOptions(0)),u=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(d,c,u)/2}};xe.id="scatter",xe.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},xe.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var tM=Object.freeze({__proto__:null,BarController:ue,BubbleController:fe,DoughnutController:Lt,LineController:ge,PolarAreaController:pe,PieController:qe,RadarController:me,ScatterController:xe});function St(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}let vi=class vi{constructor(t){this.options=t||{}}init(t){}formats(){return St()}parse(t,i){return St()}format(t,i){return St()}add(t,i,h){return St()}diff(t,i,h){return St()}startOf(t,i,h){return St()}endOf(t,i){return St()}};vi.override=function(t){Object.assign(vi.prototype,t)};var tw={_date:vi};function _e(t,i,h,d,c){let u=t.getSortedVisibleDatasetMetas(),b=h[i];for(let t=0,h=u.length;t<h;++t){let{index:h,data:w}=u[t],{lo:S,hi:P}=function(t,i,h,d){let{controller:c,data:u,_sorted:b}=t,w=c._cachedMeta.iScale;if(w&&i===w.axis&&"r"!==i&&b&&u.length){let t=w._reversePixels?Lo:ft;if(!d)return t(u,i,h);if(c._sharedOptions){let d=u[0],c="function"==typeof d.getRange&&d.getRange(i);if(c){let d=t(u,i,h-c),b=t(u,i,h+c);return{lo:d.lo,hi:b.hi}}}}return{lo:0,hi:u.length-1}}(u[t],i,b,c);for(let t=S;t<=P;++t){let i=w[t];i.skip||d(i,h,t)}}}function di(t,i,h,d,c){let u=[];return(c||t.isPointInArea(i))&&_e(t,h,i,function(h,b,w){(c||re(h,t.chartArea,0))&&h.inRange(i.x,i.y,d)&&u.push({element:h,datasetIndex:b,index:w})},!0),u}function ui(t,i,h,d,c,u){let b;return u||t.isPointInArea(i)?"r"!==h||d?function(t,i,h,d,c,u){let b=[],w=function(t){let i=-1!==t.indexOf("x"),h=-1!==t.indexOf("y");return function(t,d){let c=i?Math.abs(t.x-d.x):0,u=h?Math.abs(t.y-d.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(u,2))}}(h),S=Number.POSITIVE_INFINITY;return _e(t,h,i,function(h,P,O){let A=h.inRange(i.x,i.y,c);if(d&&!A)return;let L=h.getCenterPoint(c);if(!(u||t.isPointInArea(L))&&!A)return;let R=w(i,L);R<S?(b=[{element:h,datasetIndex:P,index:O}],S=R):R===S&&b.push({element:h,datasetIndex:P,index:O})}),b}(t,i,h,d,c,u):(b=[],_e(t,h,i,function(t,h,d){let{startAngle:u,endAngle:w}=t.getProps(["startAngle","endAngle"],c),{angle:S}=hn(t,{x:i.x,y:i.y});oe(S,u,w)&&b.push({element:t,datasetIndex:h,index:d})}),b):[]}function Cs(t,i,h,d,c){let u=[],b="x"===h?"inXRange":"inYRange",w=!1;return _e(t,h,i,(t,d,S)=>{t[b](i[h],c)&&(u.push({element:t,datasetIndex:d,index:S}),w=w||t.inRange(i.x,i.y,c))}),d&&!w?[]:u}var tk={evaluateInteractionItems:_e,modes:{index(t,i,h,d){let c=Pt(i,t),u=h.axis||"x",b=h.includeInvisible||!1,w=h.intersect?di(t,c,u,d,b):ui(t,c,u,!1,d,b),S=[];return w.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{let i=w[0].index,h=t.data[i];h&&!h.skip&&S.push({element:h,datasetIndex:t.index,index:i})}),S):[]},dataset(t,i,h,d){let c=Pt(i,t),u=h.axis||"xy",b=h.includeInvisible||!1,w=h.intersect?di(t,c,u,d,b):ui(t,c,u,!1,d,b);if(w.length>0){let i=w[0].datasetIndex,h=t.getDatasetMeta(i).data;w=[];for(let t=0;t<h.length;++t)w.push({element:h[t],datasetIndex:i,index:t})}return w},point(t,i,h,d){let c=Pt(i,t),u=h.axis||"xy",b=h.includeInvisible||!1;return di(t,c,u,d,b)},nearest(t,i,h,d){let c=Pt(i,t),u=h.axis||"xy",b=h.includeInvisible||!1;return ui(t,c,u,h.intersect,d,b)},x(t,i,h,d){let c=Pt(i,t);return Cs(t,c,"x",h.intersect,d)},y(t,i,h,d){let c=Pt(i,t);return Cs(t,c,"y",h.intersect,d)}}};let tS=["left","top","right","bottom"];function Ut(t,i){return t.filter(t=>t.pos===i)}function Ds(t,i){return t.filter(t=>-1===tS.indexOf(t.pos)&&t.box.axis===i)}function Kt(t,i){return t.sort((t,h)=>{let d=i?h:t,c=i?t:h;return d.weight===c.weight?d.index-c.index:d.weight-c.weight})}function Os(t,i,h,d){return Math.max(t[h],i[h])+Math.max(t[d],i[d])}function $n(t,i){t.top=Math.max(t.top,i.top),t.left=Math.max(t.left,i.left),t.bottom=Math.max(t.bottom,i.bottom),t.right=Math.max(t.right,i.right)}function Jt(t,i,h,d){let c,u,b,w,S,P;let O=[];for(c=0,u=t.length,S=0;c<u;++c){(w=(b=t[c]).box).update(b.width||i.w,b.height||i.h,function(t,i){let h=i.maxPadding;return function(t){let d={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{d[t]=Math.max(i[t],h[t])}),d}(t?["left","right"]:["top","bottom"])}(b.horizontal,i));let{same:u,other:A}=function(t,i,h,d){let{pos:c,box:u}=h,b=t.maxPadding;if(!D(c)){h.size&&(t[c]-=h.size);let i=d[h.stack]||{size:0,count:1};i.size=Math.max(i.size,h.horizontal?u.height:u.width),h.size=i.size/i.count,t[c]+=h.size}u.getPadding&&$n(b,u.getPadding());let w=Math.max(0,i.outerWidth-Os(b,t,"left","right")),S=Math.max(0,i.outerHeight-Os(b,t,"top","bottom")),P=w!==t.w,O=S!==t.h;return t.w=w,t.h=S,h.horizontal?{same:P,other:O}:{same:O,other:P}}(i,h,b,d);S|=u&&O.length,P=P||A,w.fullSize||O.push(b)}return S&&Jt(O,i,h,d)||P}function Te(t,i,h,d,c){t.top=h,t.left=i,t.right=i+d,t.bottom=h+c,t.width=d,t.height=c}function As(t,i,h,d){let c=h.padding,{x:u,y:b}=i;for(let w of t){let t=w.box,S=d[w.stack]||{count:1,placed:0,weight:1},P=w.stackWeight/S.weight||1;if(w.horizontal){let d=i.w*P,u=S.size||t.height;et(S.start)&&(b=S.start),t.fullSize?Te(t,c.left,b,h.outerWidth-c.right-c.left,u):Te(t,i.left+S.placed,b,d,u),S.start=b,S.placed+=d,b=t.bottom}else{let d=i.h*P,b=S.size||t.width;et(S.start)&&(u=S.start),t.fullSize?Te(t,u,c.top,b,h.outerHeight-c.bottom-c.top):Te(t,u,i.top+S.placed,b,d),S.start=u,S.placed+=d,u=t.right}}i.x=u,i.y=b}tl.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var tD={addBox(t,i){t.boxes||(t.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(t){i.draw(t)}}]},t.boxes.push(i)},removeBox(t,i){let h=t.boxes?t.boxes.indexOf(i):-1;-1!==h&&t.boxes.splice(h,1)},configure(t,i,h){i.fullSize=h.fullSize,i.position=h.position,i.weight=h.weight},update(t,i,h,d){if(!t)return;let c=K(t.options.layout.padding),u=Math.max(i-c.width,0),b=Math.max(h-c.height,0),w=function(t){let i=function(t){let i,h,d,c,u,b;let w=[];for(i=0,h=(t||[]).length;i<h;++i)d=t[i],({position:c,options:{stack:u,stackWeight:b=1}}=d),w.push({index:i,box:d,pos:c,horizontal:d.isHorizontal(),weight:d.weight,stack:u&&c+u,stackWeight:b});return w}(t),h=Kt(i.filter(t=>t.box.fullSize),!0),d=Kt(Ut(i,"left"),!0),c=Kt(Ut(i,"right")),u=Kt(Ut(i,"top"),!0),b=Kt(Ut(i,"bottom")),w=Ds(i,"x"),S=Ds(i,"y");return{fullSize:h,leftAndTop:d.concat(u),rightAndBottom:c.concat(S).concat(b).concat(w),chartArea:Ut(i,"chartArea"),vertical:d.concat(c).concat(S),horizontal:u.concat(b).concat(w)}}(t.boxes),S=w.vertical,P=w.horizontal;E(t.boxes,t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()});let O=S.reduce((t,i)=>i.box.options&&!1===i.box.options.display?t:t+1,0)||1,A=Object.freeze({outerWidth:i,outerHeight:h,padding:c,availableWidth:u,availableHeight:b,vBoxMaxWidth:u/2/O,hBoxMaxHeight:b/2}),L=Object.assign({},c);$n(L,K(d));let R=Object.assign({maxPadding:L,w:u,h:b,x:c.left,y:c.top},c),F=function(t,i){let h,d,c;let u=function(t){let i={};for(let h of t){let{stack:t,pos:d,stackWeight:c}=h;if(!t||!tS.includes(d))continue;let u=i[t]||(i[t]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=c}return i}(t),{vBoxMaxWidth:b,hBoxMaxHeight:w}=i;for(h=0,d=t.length;h<d;++h){c=t[h];let{fullSize:d}=c.box,S=u[c.stack],P=S&&c.stackWeight/S.weight;c.horizontal?(c.width=P?P*b:d&&i.availableWidth,c.height=w):(c.width=b,c.height=P?P*w:d&&i.availableHeight)}return u}(S.concat(P),A);Jt(w.fullSize,R,A,F),Jt(S,R,A,F),Jt(P,R,A,F)&&Jt(S,R,A,F),function(t){let i=t.maxPadding;function e(h){let d=Math.max(i[h]-t[h],0);return t[h]+=d,d}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}(R),As(w.leftAndTop,R,A,F),R.x+=R.w,R.y+=R.h,As(w.rightAndBottom,R,A,F),t.chartArea={left:R.left,top:R.top,right:R.left+R.w,bottom:R.top+R.h,height:R.h,width:R.w},E(w.chartArea,i=>{let h=i.box;Object.assign(h,t.chartArea),h.update(R.w,R.h,{left:0,top:0,right:0,bottom:0})})}};let Hi=class Hi{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,h){}removeEventListener(t,i,h){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,h,d){return i=Math.max(0,i||t.width),h=h||t.height,{width:i,height:Math.max(0,d?Math.floor(i/d):h)}}isAttached(t){return!0}updateConfig(t){}};let Yn=class Yn extends Hi{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}};let tP="$chartjs",tC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ts=t=>null===t||""===t,tO=!!tf&&{passive:!0};function je(t,i){for(let h of t)if(h===i||h.contains(i))return!0}function nl(t,i,h){let d=t.canvas,c=new MutationObserver(t=>{let i=!1;for(let h of t)i=(i=i||je(h.addedNodes,d))&&!je(h.removedNodes,d);i&&h()});return c.observe(document,{childList:!0,subtree:!0}),c}function ol(t,i,h){let d=t.canvas,c=new MutationObserver(t=>{let i=!1;for(let h of t)i=(i=i||je(h.removedNodes,d))&&!je(h.addedNodes,d);i&&h()});return c.observe(document,{childList:!0,subtree:!0}),c}let tT=new Map,tA=0;function Un(){let t=window.devicePixelRatio;t!==tA&&(tA=t,tT.forEach((i,h)=>{h.currentDevicePixelRatio!==t&&i()}))}function ll(t,i,h){let d=t.canvas,c=d&&Wi(d);if(!c)return;let u=gn((t,i)=>{let d=c.clientWidth;h(t,i),d<c.clientWidth&&h()},window),b=new ResizeObserver(t=>{let i=t[0],h=i.contentRect.width,d=i.contentRect.height;0===h&&0===d||u(h,d)});return b.observe(c),tT.size||window.addEventListener("resize",Un),tT.set(t,u),b}function fi(t,i,h){h&&h.disconnect(),"resize"===i&&(tT.delete(t),tT.size||window.removeEventListener("resize",Un))}function cl(t,i,h){let d=t.canvas,c=gn(i=>{null!==t.ctx&&h(function(t,i){let h=tC[t.type]||t.type,{x:d,y:c}=Pt(t,i);return{type:h,chart:i,native:t,x:void 0!==d?d:null,y:void 0!==c?c:null}}(i,t))},t,t=>{let i=t[0];return[i,i.offsetX,i.offsetY]});return function(t,i,h){t.addEventListener(i,h,tO)}(d,i,c),c}let Kn=class Kn extends Hi{acquireContext(t,i){let h=t&&t.getContext&&t.getContext("2d");return h&&h.canvas===t?(function(t,i){let h=t.style,d=t.getAttribute("height"),c=t.getAttribute("width");if(t[tP]={initial:{height:d,width:c,style:{display:h.display,height:h.height,width:h.width}}},h.display=h.display||"block",h.boxSizing=h.boxSizing||"border-box",Ts(c)){let i=cs(t,"width");void 0!==i&&(t.width=i)}if(Ts(d)){if(""===t.style.height)t.height=t.width/(i||2);else{let i=cs(t,"height");void 0!==i&&(t.height=i)}}}(t,i),h):null}releaseContext(t){let i=t.canvas;if(!i[tP])return!1;let h=i[tP].initial;["height","width"].forEach(t=>{let d=h[t];T(d)?i.removeAttribute(t):i.setAttribute(t,d)});let d=h.style||{};return Object.keys(d).forEach(t=>{i.style[t]=d[t]}),i.width=i.width,delete i[tP],!0}addEventListener(t,i,h){this.removeEventListener(t,i);let d=t.$proxies||(t.$proxies={}),c={attach:nl,detach:ol,resize:ll}[i]||cl;d[i]=c(t,i,h)}removeEventListener(t,i){let h=t.$proxies||(t.$proxies={}),d=h[i];d&&((({attach:fi,detach:fi,resize:fi})[i]||function(t,i,h){t.canvas.removeEventListener(i,h,tO)})(t,i,d),h[i]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,h,d){return function(t,i,h,d){let c=Ke(t),u=Ot(c,"margin"),b=He(c.maxWidth,t,"clientWidth")||O,w=He(c.maxHeight,t,"clientHeight")||O,S=function(t,i,h){let d,c;if(void 0===i||void 0===h){let u=Wi(t);if(u){let t=u.getBoundingClientRect(),b=Ke(u),w=Ot(b,"border","width"),S=Ot(b,"padding");i=t.width-S.width-w.width,h=t.height-S.height-w.height,d=He(b.maxWidth,u,"clientWidth"),c=He(b.maxHeight,u,"clientHeight")}else i=t.clientWidth,h=t.clientHeight}return{width:i,height:h,maxWidth:d||O,maxHeight:c||O}}(t,i,h),{width:P,height:A}=S;if("content-box"===c.boxSizing){let t=Ot(c,"border","width"),i=Ot(c,"padding");P-=i.width+t.width,A-=i.height+t.height}return P=Math.max(0,P-u.width),A=Math.max(0,d?Math.floor(P/d):A-u.height),P=ai(Math.min(P,b,S.maxWidth)),A=ai(Math.min(A,w,S.maxHeight)),P&&!A&&(A=ai(P/2)),{width:P,height:A}}(t,i,h,d)}isAttached(t){let i=Wi(t);return!!(i&&i.isConnected)}};function qn(t){return!An()||"u">typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Yn:Kn}let hl=class hl{constructor(){this._init=[]}notify(t,i,h,d){"beforeInit"===i&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let c=d?this._descriptors(t).filter(d):this._descriptors(t),u=this._notify(c,t,i,h);return"afterDestroy"===i&&(this._notify(c,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,i,h,d){for(let c of(d=d||{},t)){let t=c.plugin,u=t[h],b=[i,d,c.options];if(!1===I(u,b,t)&&d.cancelable)return!1}return!0}invalidate(){T(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){let h=t&&t.config,d=C(h.options&&h.options.plugins,{}),c=function(t){let i={},h=[],d=Object.keys(tv.plugins.items);for(let t=0;t<d.length;t++)h.push(tv.getPlugin(d[t]));let c=t.plugins||[];for(let t=0;t<c.length;t++){let d=c[t];-1===h.indexOf(d)&&(h.push(d),i[d.id]=!0)}return{plugins:h,localIds:i}}(h);return!1!==d||i?function(t,{plugins:i,localIds:h},d,c){let u=[],b=t.getContext();for(let S of i){var w;let i=S.id,P=(w=d[i],c||!1!==w?!0===w?{}:w:null);null!==P&&u.push({plugin:S,options:function(t,{plugin:i,local:h},d,c){let u=t.pluginScopeKeys(i),b=t.getOptionScopes(d,u);return h&&i.defaults&&b.push(i.defaults),t.createResolver(b,c,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(t.config,{plugin:S,local:h[i]},P,b)})}return u}(t,c,d,i):[]}_notifyStateChanges(t){let i=this._oldCache||[],h=this._cache,n=(t,i)=>t.filter(t=>!i.some(i=>t.plugin.id===i.plugin.id));this._notify(n(i,h),t,"stop"),this._notify(n(h,i),t,"start")}};function Mi(t,i){let h=tl.datasets[t]||{};return((i.datasets||{})[t]||{}).indexAxis||i.indexAxis||h.indexAxis||"x"}function ki(t,i){var h;return"x"===t||"y"===t?t:i.axis||("top"===(h=i.position)||"bottom"===h?"x":"left"===h||"right"===h?"y":void 0)||t.charAt(0).toLowerCase()}function Gn(t){let i=t.options||(t.options={});i.plugins=C(i.plugins,{}),i.scales=function(t,i){let h=ta[t.type]||{scales:{}},d=i.scales||{},c=Mi(t.type,i),u=Object.create(null),b=Object.create(null);return Object.keys(d).forEach(t=>{let i=d[t];if(!D(i))return console.error(`Invalid scale configuration for scale: ${t}`);if(i._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);let w=ki(t,i),S=w===c?"_index_":"_value_",P=h.scales||{};u[w]=u[w]||t,b[t]=Qt(Object.create(null),[{axis:w},i,P[w],P[S]])}),t.data.datasets.forEach(h=>{let c=h.type||t.type,w=h.indexAxis||Mi(c,i),S=(ta[c]||{}).scales||{};Object.keys(S).forEach(t=>{let i;let c=(i=t,"_index_"===t?i=w:"_value_"===t&&(i="x"===w?"y":"x"),i),P=h[c+"AxisID"]||u[c]||c;b[P]=b[P]||Object.create(null),Qt(b[P],[{axis:c},d[P],S[t]])})}),Object.keys(b).forEach(t=>{let i=b[t];Qt(i,[tl.scales[i.type],tl.scale])}),b}(t,i)}function Zn(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}let tE=new Map,tL=new Set;function Le(t,i){let h=tE.get(t);return h||(h=i(),tE.set(t,h),tL.add(h)),h}let qt=(t,i,h)=>{let d=_t(i,h);void 0!==d&&t.add(d)};let yl=class yl{constructor(t){var i;this._config=((i=(i=t)||{}).data=Zn(i.data),Gn(i),i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Zn(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),Gn(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Le(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return Le(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return Le(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){let i=t.id,h=this.type;return Le(`${h}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){let h=this._scopeCache,d=h.get(t);return(!d||i)&&(d=new Map,h.set(t,d)),d}getOptionScopes(t,i,h){let{options:d,type:c}=this,u=this._cachedScopes(t,h),b=u.get(i);if(b)return b;let w=new Set;i.forEach(i=>{t&&(w.add(t),i.forEach(i=>qt(w,t,i))),i.forEach(t=>qt(w,d,t)),i.forEach(t=>qt(w,ta[c]||{},t)),i.forEach(t=>qt(w,tl,t)),i.forEach(t=>qt(w,tr,t))});let S=Array.from(w);return 0===S.length&&S.push(Object.create(null)),tL.has(i)&&u.set(i,S),S}chartOptionScopes(){let{options:t,type:i}=this;return[t,ta[i]||{},tl.datasets[i]||{},{type:i},tl,tr]}resolveNamedOptions(t,i,h,d=[""]){let c={$shared:!0},{resolver:u,subPrefixes:b}=Es(this._resolverCache,t,d),w=u;if(function(t,i){let{isScriptable:h,isIndexable:d}=wn(t);for(let c of i){let i=h(c),u=d(c),b=(u||i)&&t[c];if(i&&(yt(b)||vl(b))||u&&z(b))return!0}return!1}(u,i)){c.$shared=!1,h=yt(h)?h():h;let i=this.createResolver(t,h,b);w=Vt(u,h,i)}for(let t of i)c[t]=w[t];return c}createResolver(t,i,h=[""],d){let{resolver:c}=Es(this._resolverCache,t,h);return D(i)?Vt(c,i,void 0,d):c}};function Es(t,i,h){let d=t.get(i);d||(d=new Map,t.set(i,d));let c=h.join(),u=d.get(c);return u||(u={resolver:zi(i,h),subPrefixes:h.filter(t=>!t.toLowerCase().includes("hover"))},d.set(c,u)),u}let vl=t=>D(t)&&Object.getOwnPropertyNames(t).reduce((i,h)=>i||yt(t[h]),!1),tI=["top","bottom","left","right","chartArea"];function Fs(t,i){return"top"===t||"bottom"===t||-1===tI.indexOf(t)&&"x"===i}function Is(t,i){return function(h,d){return h[t]===d[t]?h[i]-d[i]:h[t]-d[t]}}function zs(t){let i=t.chart,h=i.options.animation;i.notifyPlugins("afterRender"),I(h&&h.onComplete,[t],i)}function Sl(t){let i=t.chart,h=i.options.animation;I(h&&h.onProgress,[t],i)}function Qn(t){return An()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}let tR={},to=t=>{let i=Qn(t);return Object.values(tR).filter(t=>t.canvas===i).pop()};let ji=class ji{constructor(t,i){var h,d;let c;let b=this.config=new yl(i),w=Qn(t),S=to(w);if(S)throw Error("Canvas is already in use. Chart with ID '"+S.id+"' must be destroyed before the canvas with ID '"+S.canvas.id+"' can be reused.");let P=b.createResolver(b.chartOptionScopes(),this.getContext());this.platform=new(b.platform||qn(w)),this.platform.updateConfig(b);let O=this.platform.acquireContext(w,P.aspectRatio),A=O&&O.canvas,L=A&&A.height,R=A&&A.width;if(this.id=u(),this.ctx=O,this.canvas=A,this.width=R,this.height=L,this._options=P,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new hl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(h=t=>this.update(t),d=P.resizeDelay||0,function(...t){return d?(clearTimeout(c),c=setTimeout(h,d,t)):h.apply(this,t),d}),this._dataChanges=[],tR[this.id]=this,!O||!A){console.error("Failed to create chart: can't acquire context from the given item");return}tp.listen(this,"complete",zs),tp.listen(this,"progress",Sl),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:i},width:h,height:d,_aspectRatio:c}=this;return T(t)?i&&c?c:d?h/d:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ls(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return os(this.canvas,this.ctx),this}stop(){return tp.stop(this),this}resize(t,i){tp.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){let h=this.options,d=this.canvas,c=h.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(d,t,i,c),b=h.devicePixelRatio||this.platform.getDevicePixelRatio(),w=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,ls(this,b,!0)&&(this.notifyPlugins("resize",{size:u}),I(h.onResize,[this,u],this),this.attached&&this._doResize(w)&&this.render())}ensureScalesHaveIDs(){let t=this.options.scales||{};E(t,(t,i)=>{t.id=i})}buildOrUpdateScales(){let t=this.options,i=t.scales,h=this.scales,d=Object.keys(h).reduce((t,i)=>(t[i]=!1,t),{}),c=[];i&&(c=c.concat(Object.keys(i).map(t=>{let h=i[t],d=ki(t,h),c="r"===d,u="x"===d;return{options:h,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),E(c,i=>{let c=i.options,u=c.id,b=ki(u,c),w=C(c.type,i.dtype);(void 0===c.position||Fs(c.position,b)!==Fs(i.dposition))&&(c.position=i.dposition),d[u]=!0;let S=null;if(u in h&&h[u].type===w)S=h[u];else{let t=tv.getScale(w);h[(S=new t({id:u,type:w,ctx:this.ctx,chart:this})).id]=S}S.init(c,t)}),E(d,(t,i)=>{t||delete h[i]}),E(h,t=>{tD.configure(this,t,t.options),tD.addBox(this,t)})}_updateMetasets(){let t=this._metasets,i=this.data.datasets.length,h=t.length;if(t.sort((t,i)=>t.index-i.index),h>i){for(let t=i;t<h;++t)this._destroyDatasetMeta(t);t.splice(i,h-i)}this._sortedMetasets=t.slice(0).sort(Is("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((t,h)=>{0===i.filter(i=>i===t._dataset).length&&this._destroyDatasetMeta(h)})}buildOrUpdateControllers(){let t,i;let h=[],d=this.data.datasets;for(this._removeUnreferencedMetasets(),t=0,i=d.length;t<i;t++){let i=d[t],c=this.getDatasetMeta(t),u=i.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(t),c=this.getDatasetMeta(t)),c.type=u,c.indexAxis=i.indexAxis||Mi(u,this.options),c.order=i.order||0,c.index=t,c.label=""+i.label,c.visible=this.isDatasetVisible(t),c.controller)c.controller.updateIndex(t),c.controller.linkScales();else{let i=tv.getController(u),{datasetElementType:d,dataElementType:b}=tl.datasets[u];Object.assign(i.prototype,{dataElementType:tv.getElement(b),datasetElementType:d&&tv.getElement(d)}),c.controller=new i(this,t),h.push(c.controller)}}return this._updateMetasets(),h}_resetElements(){E(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let i=this.config;i.update();let h=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),d=this._animationsDisabled=!h.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;let c=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let t=0,i=this.data.datasets.length;t<i;t++){let{controller:i}=this.getDatasetMeta(t),h=!d&&-1===c.indexOf(i);i.buildOrUpdateElements(h),u=Math.max(+i.getMaxOverflow(),u)}u=this._minPadding=h.layout.autoPadding?u:0,this._updateLayout(u),d||E(c,t=>{t.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Is("z","_idx"));let{_active:b,_lastEvent:w}=this;w?this._eventHandler(w,!0):b.length&&this._updateHoverStyles(b,b,!0),this.render()}_updateScales(){E(this.scales,t=>{tD.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,i=new Set(Object.keys(this._listeners)),h=new Set(t.events);Ui(i,h)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(let{method:h,start:d,count:c}of i){let i="_removeElements"===h?-c:c;!function(t,i,h){let d=Object.keys(t);for(let c of d){let d=+c;if(d>=i){let u=t[c];delete t[c],(h>0||d>i)&&(t[d+h]=u)}}}(t,d,i)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let i=this.data.datasets.length,s=i=>new Set(t.filter(t=>t[0]===i).map((t,i)=>i+","+t.splice(1).join(","))),h=s(0);for(let t=1;t<i;t++)if(!Ui(h,s(t)))return;return Array.from(h).map(t=>t.split(",")).map(t=>({method:t[1],start:+t[2],count:+t[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;tD.update(this,this.width,this.height,t);let i=this.chartArea,h=i.width<=0||i.height<=0;this._layers=[],E(this.boxes,t=>{h&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))},this),this._layers.forEach((t,i)=>{t._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let i=0,h=this.data.datasets.length;i<h;++i)this._updateDataset(i,yt(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){let h=this.getDatasetMeta(t),d={meta:h,index:t,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",d)&&(h.controller._update(i),d.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",d))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(tp.has(this)?this.attached&&!tp.running(this)&&tp.start(this):(this.draw(),zs({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:t,height:i}=this._resizeBeforeDraw;this._resize(t,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;let i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let i,h;let d=this._sortedMetasets,c=[];for(i=0,h=d.length;i<h;++i){let h=d[i];(!t||h.visible)&&c.push(h)}return c}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;let t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let i=this.ctx,h=t._clip,d=!h.disabled,c=this.chartArea,u={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",u)&&(d&&Xe(i,{left:!1===h.left?0:c.left-h.left,right:!1===h.right?this.width:c.right+h.right,top:!1===h.top?0:c.top-h.top,bottom:!1===h.bottom?this.height:c.bottom+h.bottom}),t.controller.draw(),d&&Ue(i),u.cancelable=!1,this.notifyPlugins("afterDatasetDraw",u))}isPointInArea(t){return re(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,h,d){let c=tk.modes[i];return"function"==typeof c?c(this,t,h,d):[]}getDatasetMeta(t){let i=this.data.datasets[t],h=this._metasets,d=h.filter(t=>t&&t._dataset===i).pop();return d||(d={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},h.push(d)),d}getContext(){return this.$context||(this.$context=vt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let i=this.data.datasets[t];if(!i)return!1;let h=this.getDatasetMeta(t);return"boolean"==typeof h.hidden?!h.hidden:!i.hidden}setDatasetVisibility(t,i){let h=this.getDatasetMeta(t);h.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,h){let d=h?"show":"hide",c=this.getDatasetMeta(t),u=c.controller._resolveAnimations(void 0,d);et(i)?(c.data[i].hidden=!h,this.update()):(this.setDatasetVisibility(t,h),u.update(c,{visible:h}),this.update(i=>i.datasetIndex===t?d:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){let i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),tp.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),os(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete tR[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,i=this.platform,s=(h,d)=>{i.addEventListener(this,h,d),t[h]=d},n=(t,i,h)=>{t.offsetX=i,t.offsetY=h,this._eventHandler(t)};E(this.options.events,t=>s(t,n))}bindResponsiveEvents(){let t;this._responsiveListeners||(this._responsiveListeners={});let i=this._responsiveListeners,h=this.platform,s=(t,d)=>{h.addEventListener(this,t,d),i[t]=d},n=(t,d)=>{i[t]&&(h.removeEventListener(this,t,d),delete i[t])},o=(t,i)=>{this.canvas&&this.resize(t,i)},a=()=>{n("attach",a),this.attached=!0,this.resize(),s("resize",o),s("detach",t)};t=()=>{this.attached=!1,n("resize",o),this._stop(),this._resize(0,0),s("attach",a)},h.isAttached(this.canvas)?a():t()}unbindEvents(){E(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},E(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,h){let d,c,u;let b=h?"set":"remove";for("dataset"===i&&this.getDatasetMeta(t[0].datasetIndex).controller["_"+b+"DatasetHoverStyle"](),c=0,u=t.length;c<u;++c){d=t[c];let i=d&&this.getDatasetMeta(d.datasetIndex).controller;i&&i[b+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let i=this._active||[],h=t.map(({datasetIndex:t,index:i})=>{let h=this.getDatasetMeta(t);if(!h)throw Error("No dataset found at index "+t);return{datasetIndex:t,element:h.data[i],index:i}});ze(h,i)||(this._active=h,this._lastEvent=null,this._updateHoverStyles(h,i))}notifyPlugins(t,i,h){return this._plugins.notify(this,t,i,h)}_updateHoverStyles(t,i,h){let d=this.options.hover,o=(t,i)=>t.filter(t=>!i.some(i=>t.datasetIndex===i.datasetIndex&&t.index===i.index)),c=o(i,t),u=h?t:o(t,i);c.length&&this.updateHoverStyle(c,d.mode,!1),u.length&&d.mode&&this.updateHoverStyle(u,d.mode,!0)}_eventHandler(t,i){let h={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},n=i=>(i.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",h,n))return;let d=this._handleEvent(t,i,h.inChartArea);return h.cancelable=!1,this.notifyPlugins("afterEvent",h,n),(d||h.changed)&&this.render(),this}_handleEvent(t,i,h){var d;let{_active:c=[],options:u}=this,b=this._getActiveElements(t,c,h,i),w="mouseup"===t.type||"click"===t.type||"contextmenu"===t.type,S=(d=this._lastEvent,h&&"mouseout"!==t.type?w?d:t:null);h&&(this._lastEvent=null,I(u.onHover,[t,b,this],this),w&&I(u.onClick,[t,b,this],this));let P=!ze(b,c);return(P||i)&&(this._active=b,this._updateHoverStyles(b,c,i)),this._lastEvent=S,P}_getActiveElements(t,i,h,d){if("mouseout"===t.type)return[];if(!h)return i;let c=this.options.hover;return this.getElementsAtEventForMode(t,c.mode,c,d)}};let Bs=()=>E(ji.instances,t=>t._plugins.invalidate());function eo(t,i,h){let{startAngle:d,pixelMargin:c,x:u,y:b,outerRadius:w,innerRadius:S}=i,P=c/w;t.beginPath(),t.arc(u,b,w,d-P,h+P),S>c?(P=c/S,t.arc(u,b,S,h+P,d-P,!0)):t.arc(u,b,c,h+L,d-L),t.closePath(),t.clip()}function It(t,i,h,d){return{x:h+t*Math.cos(i),y:d+t*Math.sin(i)}}function wi(t,i,h,d,c,u){let{x:b,y:S,startAngle:P,pixelMargin:O,innerRadius:A}=i,R=Math.max(i.outerRadius+d+h-O,0),F=A>0?A+d+h+O:0,B=0,V=c-P;if(d){let t=R>0?R-d:0,i=((A>0?A-d:0)+t)/2;B=(V-(0!==i?V*i/(i+d):V))/2}let W=Math.max(.001,V*R-h/w)/R,H=(V-W)/2,j=P+H+B,X=c-H-B,{outerStart:q,outerEnd:G,innerStart:J,innerEnd:tt}=function(t,i,h,d){let c=Ii(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),u=(h-i)/2,b=Math.min(u,d*i/2),a=t=>{let i=(h-Math.min(u,t))*d/2;return Y(t,0,Math.min(u,i))};return{outerStart:a(c.outerStart),outerEnd:a(c.outerEnd),innerStart:Y(c.innerStart,0,b),innerEnd:Y(c.innerEnd,0,b)}}(i,F,R,X-j),ti=R-q,ta=R-G,tr=j+q/ti,tl=X-G/ta,th=F+J,td=F+tt,tc=j+J/th,tu=X-tt/td;if(t.beginPath(),u){if(t.arc(b,S,R,tr,tl),G>0){let i=It(ta,tl,b,S);t.arc(i.x,i.y,G,tl,X+L)}let i=It(td,X,b,S);if(t.lineTo(i.x,i.y),tt>0){let i=It(td,tu,b,S);t.arc(i.x,i.y,tt,X+L,tu+Math.PI)}if(t.arc(b,S,F,X-tt/F,j+J/F,!0),J>0){let i=It(th,tc,b,S);t.arc(i.x,i.y,J,tc+Math.PI,j-L)}let h=It(ti,j,b,S);if(t.lineTo(h.x,h.y),q>0){let i=It(ti,tr,b,S);t.arc(i.x,i.y,q,j-L,tr)}}else{t.moveTo(b,S);let i=Math.cos(tr)*R+b,h=Math.sin(tr)*R+S;t.lineTo(i,h);let d=Math.cos(tl)*R+b,c=Math.sin(tl)*R+S;t.lineTo(d,c)}t.closePath()}Object.defineProperties(ji,{defaults:{enumerable:!0,value:tl},instances:{enumerable:!0,value:tR},overrides:{enumerable:!0,value:ta},registry:{enumerable:!0,value:tv},version:{enumerable:!0,value:"3.9.1"},getChart:{enumerable:!0,value:to},register:{enumerable:!0,value:(...t)=>{tv.add(...t),Bs()}},unregister:{enumerable:!0,value:(...t)=>{tv.remove(...t),Bs()}}});let ye=class ye extends st{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,h){let d=this.getProps(["x","y"],h),{angle:c,distance:u}=hn(d,{x:t,y:i}),{startAngle:b,endAngle:w,innerRadius:P,outerRadius:O,circumference:A}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],h),L=this.options.spacing/2,R=C(A,w-b)>=S||oe(c,b,w),F=ut(u,P+L,O+L);return R&&F}getCenterPoint(t){let{x:i,y:h,startAngle:d,endAngle:c,innerRadius:u,outerRadius:b}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:w,spacing:S}=this.options,P=(d+c)/2,O=(u+b+S+w)/2;return{x:i+Math.cos(P)*O,y:h+Math.sin(P)*O}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:i,circumference:h}=this,d=(i.offset||0)/2,c=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin="inner"===i.borderAlign?.33:0,this.fullCircles=h>S?Math.floor(h/S):0,0===h||this.innerRadius<0||this.outerRadius<0)return;t.save();let b=0;if(d){b=d/2;let i=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(i)*b,Math.sin(i)*b),this.circumference>=w&&(b=d)}t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor;let P=function(t,i,h,d,c){let{fullCircles:u,startAngle:b,circumference:w}=i,P=i.endAngle;if(u){wi(t,i,h,d,b+S,c);for(let i=0;i<u;++i)t.fill();isNaN(w)||(P=b+w%S,w%S==0&&(P+=S))}return wi(t,i,h,d,P,c),t.fill(),P}(t,this,b,c,u);(function(t,i,h,d,c,u){let{options:b}=i,{borderWidth:w,borderJoinStyle:P}=b,O="inner"===b.borderAlign;w&&(O?(t.lineWidth=2*w,t.lineJoin=P||"round"):(t.lineWidth=w,t.lineJoin=P||"bevel"),i.fullCircles&&function(t,i,h){let d;let{x:c,y:u,startAngle:b,pixelMargin:w,fullCircles:P}=i,O=Math.max(i.outerRadius-w,0),A=i.innerRadius+w;for(h&&eo(t,i,b+S),t.beginPath(),t.arc(c,u,A,b+S,b,!0),d=0;d<P;++d)t.stroke();for(t.beginPath(),t.arc(c,u,O,b,b+S),d=0;d<P;++d)t.stroke()}(t,i,O),O&&eo(t,i,c),wi(t,i,h,d,c,u),t.stroke())})(t,this,b,c,P,u),t.restore()}};function io(t,i,h=i){t.lineCap=C(h.borderCapStyle,i.borderCapStyle),t.setLineDash(C(h.borderDash,i.borderDash)),t.lineDashOffset=C(h.borderDashOffset,i.borderDashOffset),t.lineJoin=C(h.borderJoinStyle,i.borderJoinStyle),t.lineWidth=C(h.borderWidth,i.borderWidth),t.strokeStyle=C(h.borderColor,i.borderColor)}function Rl(t,i,h){t.lineTo(h.x,h.y)}function so(t,i,h={}){let d=t.length,{start:c=0,end:u=d-1}=h,{start:b,end:w}=i,S=Math.max(c,b),P=Math.min(u,w);return{count:d,start:S,loop:i.loop,ilen:P<S&&!(c<b&&u<b||c>w&&u>w)?d+P-S:P-S}}function Fl(t,i,h,d){let{points:c,options:u}=i,{count:b,start:w,loop:S,ilen:P}=so(c,h,d),O=u.stepped?lr:u.tension||"monotone"===u.cubicInterpolationMode?cr:Rl,{move:A=!0,reverse:L}=d||{},R,F,B;for(R=0;R<=P;++R)(F=c[(w+(L?P-R:R))%b]).skip||(A?(t.moveTo(F.x,F.y),A=!1):O(t,B,F,L,u.stepped),B=F);return S&&O(t,B,F=c[(w+(L?P:0))%b],L,u.stepped),!!S}function Il(t,i,h,d){let c=i.points,{count:u,start:b,ilen:w}=so(c,h,d),{move:S=!0,reverse:P}=d||{},O=0,A=0,L,R,F,B,V,W,x=t=>(b+(P?w-t:t))%u,v=()=>{B!==V&&(t.lineTo(O,V),t.lineTo(O,B),t.lineTo(O,W))};for(S&&(R=c[x(0)],t.moveTo(R.x,R.y)),L=0;L<=w;++L){if((R=c[x(L)]).skip)continue;let i=R.x,h=R.y,d=0|i;d===F?(h<B?B=h:h>V&&(V=h),O=(A*O+i)/++A):(v(),t.lineTo(i,h),F=d,A=0,B=V=h),W=h}v()}function Si(t){let i=t.options,h=i.borderDash&&i.borderDash.length;return t._decimated||t._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||h?Fl:Il}ye.id="arc",ye.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},ye.defaultRoutes={backgroundColor:"backgroundColor"};let tz="function"==typeof Path2D;let gt=class gt extends st{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){let h=this.options;if((h.tension||"monotone"===h.cubicInterpolationMode)&&!h.stepped&&!this._pointsUpdated){let d=h.spanGaps?this._loop:this._fullLoop;(function(t,i,h,d,c){let u,b,w,S;if(i.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===i.cubicInterpolationMode)!function(t,i="x"){let h=On(i),d=t.length,c=Array(d).fill(0),u=Array(d),b,w,S,P=Wt(t,0);for(b=0;b<d;++b)if(w=S,S=P,P=Wt(t,b+1),S){if(P){let t=P[i]-S[i];c[b]=0!==t?(P[h]-S[h])/t:0}u[b]=w?P?V(c[b-1])!==V(c[b])?0:(c[b-1]+c[b])/2:c[b-1]:c[b]}(function(t,i,h){let d=t.length,c,u,b,w,S,P=Wt(t,0);for(let O=0;O<d-1;++O)if(S=P,P=Wt(t,O+1),!(!S||!P)){if(te(i[O],0,tc)){h[O]=h[O+1]=0;continue}(w=Math.pow(c=h[O]/i[O],2)+Math.pow(u=h[O+1]/i[O],2))<=9||(b=3/Math.sqrt(w),h[O]=c*b*i[O],h[O+1]=u*b*i[O])}})(t,c,u),function(t,i,h="x"){let d=On(h),c=t.length,u,b,w,S=Wt(t,0);for(let P=0;P<c;++P){if(b=w,w=S,S=Wt(t,P+1),!w)continue;let c=w[h],O=w[d];b&&(u=(c-b[h])/3,w[`cp1${h}`]=c-u,w[`cp1${d}`]=O-u*i[P]),S&&(u=(S[h]-c)/3,w[`cp2${h}`]=c+u,w[`cp2${d}`]=O+u*i[P])}}(t,u,i)}(t,c);else{let h=d?t[t.length-1]:t[0];for(u=0,b=t.length;u<b;++u)S=function(t,i,h,d){let c=t.skip?i:t,u=h.skip?i:h,b=bi(i,c),w=bi(u,i),S=b/(b+w),P=w/(b+w);S=isNaN(S)?0:S,P=isNaN(P)?0:P;let O=d*S,A=d*P;return{previous:{x:i.x-O*(u.x-c.x),y:i.y-O*(u.y-c.y)},next:{x:i.x+A*(u.x-c.x),y:i.y+A*(u.y-c.y)}}}(h,w=t[u],t[Math.min(u+1,b-(d?0:1))%b],i.tension),w.cp1x=S.previous.x,w.cp1y=S.previous.y,w.cp2x=S.next.x,w.cp2y=S.next.y,h=w}i.capBezierPoints&&function(t,i){let h,d,c,u,b,w=re(t[0],i);for(h=0,d=t.length;h<d;++h)b=u,u=w,w=h<d-1&&re(t[h+1],i),u&&(c=t[h],b&&(c.cp1x=De(c.cp1x,i.left,i.right),c.cp1y=De(c.cp1y,i.top,i.bottom)),w&&(c.cp2x=De(c.cp2x,i.left,i.right),c.cp2y=De(c.cp2y,i.top,i.bottom)))}(t,h)})(this._points,h,t,d,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,i){let h=t.points,d=t.options.spanGaps,c=h.length;if(!c)return[];let u=!!t._loop,{start:b,end:w}=function(t,i,h,d){let c=0,u=i-1;if(h&&!d)for(;c<i&&!t[c].skip;)c++;for(;c<i&&t[c].skip;)c++;for(c%=i,h&&(u+=c);u>c&&t[u%i].skip;)u--;return{start:c,end:u%=i}}(h,c,u,d);if(!0===d)return us(t,[{start:b,end:w,loop:u}],h,i);let S=w<b?w+c:w,P=!!t._fullLoop&&0===b&&w===c-1;return us(t,function(t,i,h,d){let c=t.length,u=[],b=i,w=t[i],S;for(S=i+1;S<=h;++S){let h=t[S%c];h.skip||h.stop?w.skip||(d=!1,u.push({start:i%c,end:(S-1)%c,loop:d}),i=b=h.stop?S:null):(b=S,w.skip&&(i=S)),w=h}return null!==b&&u.push({start:i%c,end:b%c,loop:d}),u}(h,b,S,P),h,i)}(this,this.options.segment))}first(){let t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){let t=this.segments,i=this.points,h=t.length;return h&&i[t[h-1].end]}interpolate(t,i){let h,d;let c=this.options,u=t[i],b=this.points,w=Fn(this,{property:i,start:u,end:u});if(!w.length)return;let S=[],P=c.stepped?Wr:c.tension||"monotone"===c.cubicInterpolationMode?Nr:Ct;for(h=0,d=w.length;h<d;++h){let{start:d,end:O}=w[h],A=b[d],L=b[O];if(A===L){S.push(A);continue}let R=Math.abs((u-A[i])/(L[i]-A[i])),F=P(A,L,R,c.stepped);F[i]=t[i],S.push(F)}return 1===S.length?S[0]:S}pathSegment(t,i,h){return Si(this)(t,this,i,h)}path(t,i,h){let d=this.segments,c=Si(this),u=this._loop;for(let b of(i=i||0,h=h||this.points.length-i,d))u&=c(t,this,b,{start:i,end:i+h-1});return!!u}draw(t,i,h,d){let c;let u=this.options||{};(this.points||[]).length&&u.borderWidth&&(t.save(),tz&&!this.options.segment?((c=this._path)||(c=this._path=new Path2D,this.path(c,h,d)&&c.closePath()),io(t,this.options),t.stroke(c)):function(t,i,h,d){let{segments:c,options:u}=i,b=Si(i);for(let w of c)io(t,u,w.style),t.beginPath(),b(t,i,w,{start:h,end:h+d-1})&&t.closePath(),t.stroke()}(t,this,h,d),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};function Vs(t,i,h,d){let c=t.options,{[h]:u}=t.getProps([h],d);return Math.abs(i-u)<c.radius+c.hitRadius}gt.id="line",gt.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},gt.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},gt.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};let ve=class ve extends st{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,h){let d=this.options,{x:c,y:u}=this.getProps(["x","y"],h);return Math.pow(t-c,2)+Math.pow(i-u,2)<Math.pow(d.hitRadius+d.radius,2)}inXRange(t,i){return Vs(this,t,"x",i)}inYRange(t,i){return Vs(this,t,"y",i)}getCenterPoint(t){let{x:i,y:h}=this.getProps(["x","y"],t);return{x:i,y:h}}size(t){let i=(t=t||this.options||{}).radius||0;i=Math.max(i,i&&t.hoverRadius||0);let h=i&&t.borderWidth||0;return(i+h)*2}draw(t,i){let h=this.options;this.skip||h.radius<.1||!re(this,i,this.size(h)/2)||(t.strokeStyle=h.borderColor,t.lineWidth=h.borderWidth,t.fillStyle=h.backgroundColor,yi(t,h,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}};function no(t,i){let h,d,c,u,b;let{x:w,y:S,base:P,width:O,height:A}=t.getProps(["x","y","base","width","height"],i);return t.horizontal?(b=A/2,h=Math.min(w,P),d=Math.max(w,P),c=S-b,u=S+b):(h=w-(b=O/2),d=w+b,c=Math.min(S,P),u=Math.max(S,P)),{left:h,top:c,right:d,bottom:u}}function bt(t,i,h,d){return t?0:Y(i,h,d)}function gi(t,i,h,d){let c=null===i,u=null===h,b=t&&!(c&&u)&&no(t,d);return b&&(c||ut(i,b.left,b.right))&&(u||ut(h,b.top,b.bottom))}function Xl(t,i){t.rect(i.x,i.y,i.w,i.h)}function pi(t,i,h={}){let d=t.x!==h.x?-i:0,c=t.y!==h.y?-i:0,u=(t.x+t.w!==h.x+h.w?i:0)-d,b=(t.y+t.h!==h.y+h.h?i:0)-c;return{x:t.x+d,y:t.y+c,w:t.w+u,h:t.h+b,radius:t.radius}}ve.id="point",ve.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},ve.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};let Me=class Me extends st{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){var i;let{inflateAmount:h,options:{borderColor:d,backgroundColor:c}}=this,{inner:u,outer:b}=function(t){let i=no(t),h=i.right-i.left,d=i.bottom-i.top,c=function(t,i,h){let d=t.options.borderWidth,c=t.borderSkipped,u=kn(d);return{t:bt(c.top,u.top,0,h),r:bt(c.right,u.right,0,i),b:bt(c.bottom,u.bottom,0,h),l:bt(c.left,u.left,0,i)}}(t,h/2,d/2),u=function(t,i,h){let{enableBorderRadius:d}=t.getProps(["enableBorderRadius"]),c=t.options.borderRadius,u=Dt(c),b=Math.min(i,h),w=t.borderSkipped,S=d||D(c);return{topLeft:bt(!S||w.top||w.left,u.topLeft,0,b),topRight:bt(!S||w.top||w.right,u.topRight,0,b),bottomLeft:bt(!S||w.bottom||w.left,u.bottomLeft,0,b),bottomRight:bt(!S||w.bottom||w.right,u.bottomRight,0,b)}}(t,h/2,d/2);return{outer:{x:i.left,y:i.top,w:h,h:d,radius:u},inner:{x:i.left+c.l,y:i.top+c.t,w:h-c.l-c.r,h:d-c.t-c.b,radius:{topLeft:Math.max(0,u.topLeft-Math.max(c.t,c.l)),topRight:Math.max(0,u.topRight-Math.max(c.t,c.r)),bottomLeft:Math.max(0,u.bottomLeft-Math.max(c.b,c.l)),bottomRight:Math.max(0,u.bottomRight-Math.max(c.b,c.r))}}}}(this),w=(i=b.radius).topLeft||i.topRight||i.bottomLeft||i.bottomRight?ae:Xl;t.save(),(b.w!==u.w||b.h!==u.h)&&(t.beginPath(),w(t,pi(b,h,u)),t.clip(),w(t,pi(u,-h,b)),t.fillStyle=d,t.fill("evenodd")),t.beginPath(),w(t,pi(u,h)),t.fillStyle=c,t.fill(),t.restore()}inRange(t,i,h){return gi(this,t,i,h)}inXRange(t,i){return gi(this,t,null,i)}inYRange(t,i){return gi(this,null,t,i)}getCenterPoint(t){let{x:i,y:h,base:d,horizontal:c}=this.getProps(["x","y","base","horizontal"],t);return{x:c?(i+d)/2:i,y:c?h:(h+d)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}};Me.id="bar",Me.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Me.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var tF=Object.freeze({__proto__:null,ArcElement:ye,LineElement:gt,PointElement:ve,BarElement:Me});function ro(t){if(t._decimated){let i=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:i})}}function Ws(t){t.data.datasets.forEach(t=>{ro(t)})}var tN={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,i,h)=>{if(!h.enabled){Ws(t);return}let d=t.width;t.data.datasets.forEach((i,c)=>{let u;let{_data:b,indexAxis:w}=i,S=t.getDatasetMeta(c),P=b||i.data;if("y"===Zt([w,t.options.indexAxis])||!S.controller.supportsDecimation)return;let O=t.scales[S.xAxisID];if("linear"!==O.type&&"time"!==O.type||t.options.parsing)return;let{start:A,count:L}=function(t,i){let h=i.length,d=0,c,{iScale:u}=t,{min:b,max:w,minDefined:S,maxDefined:P}=u.getUserBounds();return S&&(d=Y(ft(i,u.axis,b).lo,0,h-1)),c=P?Y(ft(i,u.axis,w).hi+1,d,h)-d:h-d,{start:d,count:c}}(S,P),R=h.threshold||4*d;if(L<=R){ro(i);return}switch(T(b)&&(i._data=P,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),h.algorithm){case"lttb":u=function(t,i,h,d,c){let u=c.samples||d;if(u>=h)return t.slice(i,i+h);let b=[],w=(h-2)/(u-2),S=0,P=i+h-1,O=i,A,L,R,F,B;for(b[S++]=t[O],A=0;A<u-2;A++){let d=0,c=0,u,P=Math.floor((A+1)*w)+1+i,V=Math.min(Math.floor((A+2)*w)+1,h)+i,W=V-P;for(u=P;u<V;u++)d+=t[u].x,c+=t[u].y;d/=W,c/=W;let H=Math.floor(A*w)+1+i,j=Math.min(Math.floor((A+1)*w)+1,h)+i,{x:X,y:q}=t[O];for(R=F=-1,u=H;u<j;u++)(F=.5*Math.abs((X-d)*(t[u].y-q)-(X-t[u].x)*(c-q)))>R&&(R=F,L=t[u],B=u);b[S++]=L,O=B}return b[S++]=t[P],b}(P,A,L,d,h);break;case"min-max":u=function(t,i,h,d){let c=0,u=0,b,w,S,P,O,A,L,R,F,B,V=[],W=t[i].x,H=t[i+h-1].x-W;for(b=i;b<i+h;++b){S=((w=t[b]).x-W)/H*d,P=w.y;let i=0|S;if(i===O)P<F?(F=P,A=b):P>B&&(B=P,L=b),c=(u*c+w.x)/++u;else{let h=b-1;if(!T(A)&&!T(L)){let i=Math.min(A,L),d=Math.max(A,L);i!==R&&i!==h&&V.push({...t[i],x:c}),d!==R&&d!==h&&V.push({...t[d],x:c})}b>0&&h!==R&&V.push(t[h]),V.push(w),O=i,u=0,F=B=P,A=L=R=b}}return V}(P,A,L,d);break;default:throw Error(`Unsupported decimation algorithm '${h.algorithm}'`)}i._decimated=u})},destroy(t){Ws(t)}};function Pi(t,i,h,d){if(d)return;let c=i[t],u=h[t];return"angle"===t&&(c=Z(c),u=Z(u)),{property:t,start:c,end:u}}function $i(t,i,h){for(;i>t;i--){let t=h[i];if(!isNaN(t.x)&&!isNaN(t.y))break}return i}function Ns(t,i,h,d){return t&&i?d(t[h],i[h]):t?t[h]:i?i[h]:0}function lo(t,i){let h=[],d=!1;return z(t)?(d=!0,h=t):h=function(t,i){let{x:h=null,y:d=null}=t||{},c=i.points,u=[];return i.segments.forEach(({start:t,end:i})=>{i=$i(t,i,c);let b=c[t],w=c[i];null!==d?(u.push({x:b.x,y:d}),u.push({x:w.x,y:d})):null!==h&&(u.push({x:h,y:b.y}),u.push({x:h,y:w.y}))}),u}(t,i),h.length?new gt({points:h,options:{tension:0},_loop:d,_fullLoop:d}):null}function Hs(t){return t&&!1!==t.fill}let co=class co{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,i,h){let{x:d,y:c,radius:u}=this;return i=i||{start:0,end:S},t.arc(d,c,u,i.end,i.start,!0),!h.bounds}interpolate(t){let{x:i,y:h,radius:d}=this,c=t.angle;return{x:i+Math.cos(c)*d,y:h+Math.sin(c)*d,angle:c}}};function mi(t,i,h){let d=function(t){let{chart:i,fill:h,line:d}=t;if(N(h))return function(t,i){let h=t.getDatasetMeta(i);return h&&t.isDatasetVisible(i)?h.dataset:null}(i,h);if("stack"===h)return function(t){let{scale:i,index:h,line:d}=t,c=[],u=d.segments,b=d.points,w=function(t,i){let h=[],d=t.getMatchingVisibleMetas("line");for(let t=0;t<d.length;t++){let c=d[t];if(c.index===i)break;c.hidden||h.unshift(c.dataset)}return h}(i,h);w.push(lo({x:null,y:i.bottom},d));for(let t=0;t<u.length;t++){let i=u[t];for(let t=i.start;t<=i.end;t++)!function(t,i,h){let d=[];for(let c=0;c<h.length;c++){let u=h[c],{first:b,last:w,point:S}=function(t,i,h){let d=t.interpolate(i,h);if(!d)return{};let c=d[h],u=t.segments,b=t.points,w=!1,S=!1;for(let t=0;t<u.length;t++){let i=u[t],d=b[i.start][h],P=b[i.end][h];if(ut(c,d,P)){w=c===d,S=c===P;break}}return{first:w,last:S,point:d}}(u,i,"x");if(!(!S||b&&w)){if(b)d.unshift(S);else if(t.push(S),!w)break}}t.push(...d)}(c,b[t],w)}return new gt({points:c,options:{}})}(t);if("shape"===h)return!0;let c=(t.scale||{}).getPointPositionForValue?function(t){let{scale:i,fill:h}=t,d=i.options,c=i.getLabels().length,u=d.reverse?i.max:i.min,b="start"===h?u:"end"===h?i.options.reverse?i.min:i.max:D(h)?h.value:i.getBaseValue(),w=[];if(d.grid.circular){let t=i.getPointPositionForValue(0,u);return new co({x:t.x,y:t.y,radius:i.getDistanceFromCenterForValue(b)})}for(let t=0;t<c;++t)w.push(i.getPointPositionForValue(t,b));return w}(t):function(t){let i;let{scale:h={},fill:d}=t,c=(i=null,"start"===d?i=h.bottom:"end"===d?i=h.top:D(d)?i=h.getPixelForValue(d.value):h.getBasePixel&&(i=h.getBasePixel()),i);if(N(c)){let t=h.isHorizontal();return{x:t?c:null,y:t?null:c}}return null}(t);return c instanceof co?c:lo(c,d)}(i),{line:c,scale:u,axis:b}=i,w=c.options,S=w.fill,P=w.backgroundColor,{above:O=P,below:A=P}=S||{};d&&c.points.length&&(Xe(t,h),function(t,i){let{line:h,target:d,above:c,below:u,area:b,scale:w}=i,S=h._loop?"angle":i.axis;t.save(),"x"===S&&u!==c&&(js(t,d,b.top),$s(t,{line:h,target:d,color:c,scale:w,property:S}),t.restore(),t.save(),js(t,d,b.bottom)),$s(t,{line:h,target:d,color:u,scale:w,property:S}),t.restore()}(t,{line:c,target:d,above:O,below:A,area:h,scale:u,axis:b}),Ue(t))}function js(t,i,h){let{segments:d,points:c}=i,u=!0,b=!1;for(let w of(t.beginPath(),d)){let{start:d,end:S}=w,P=c[d],O=c[$i(d,S,c)];u?(t.moveTo(P.x,P.y),u=!1):(t.lineTo(P.x,h),t.lineTo(P.x,P.y)),(b=!!i.pathSegment(t,w,{move:b}))?t.closePath():t.lineTo(O.x,h)}t.lineTo(i.first().x,h),t.closePath(),t.clip()}function $s(t,i){let{line:h,target:d,property:c,color:u,scale:b}=i,w=function(t,i,h){let d=t.segments,c=t.points,u=i.points,b=[];for(let t of d){let{start:d,end:w}=t;w=$i(d,w,c);let S=Pi(h,c[d],c[w],t.loop);if(!i.segments){b.push({source:t,target:S,start:c[d],end:c[w]});continue}let P=Fn(i,S);for(let i of P){let d=Pi(h,u[i.start],u[i.end],i.loop),w=En(t,c,d);for(let t of w)b.push({source:t,target:i,start:{[h]:Ns(S,d,"start",Math.max)},end:{[h]:Ns(S,d,"end",Math.min)}})}}return b}(h,d,c);for(let{source:i,target:S,start:P,end:O}of w){let w;let{style:{backgroundColor:A=u}={}}=i,L=!0!==d;t.save(),t.fillStyle=A,function(t,i,h){let{top:d,bottom:c}=i.chart.chartArea,{property:u,start:b,end:w}=h||{};"x"===u&&(t.beginPath(),t.rect(b,d,w-b,c-d),t.clip())}(t,b,L&&Pi(c,P,O)),t.beginPath();let R=!!h.pathSegment(t,i);if(L){R?t.closePath():Ys(t,d,O,c);let i=!!d.pathSegment(t,S,{move:R,reverse:!0});(w=R&&i)||Ys(t,d,P,c)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function Ys(t,i,h,d){let c=i.interpolate(h,d);c&&t.lineTo(c.x,c.y)}var tB={id:"filler",afterDatasetsUpdate(t,i,h){let d,c,u,b;let w=(t.data.datasets||[]).length,S=[];for(c=0;c<w;++c)u=(d=t.getDatasetMeta(c)).dataset,b=null,u&&u.options&&u instanceof gt&&(b={visible:t.isDatasetVisible(c),index:c,fill:function(t,i,h){var d,c;let u=function(t){let i=t.options,h=i.fill,d=C(h&&h.target,h);return void 0===d&&(d=!!i.backgroundColor),!1!==d&&null!==d&&(!0===d?"origin":d)}(t);if(D(u))return!isNaN(u.value)&&u;let b=parseFloat(u);return N(b)&&Math.floor(b)===b?(d=u[0],c=b,("-"===d||"+"===d)&&(c=i+c),c!==i&&!(c<0)&&!(c>=h)&&c):["origin","start","end","stack","shape"].indexOf(u)>=0&&u}(u,c,w),chart:t,axis:d.controller.options.indexAxis,scale:d.vScale,line:u}),d.$filler=b,S.push(b);for(c=0;c<w;++c)(b=S[c])&&!1!==b.fill&&(b.fill=function(t,i,h){let d,c=t[i].fill,u=[i];if(!h)return c;for(;!1!==c&&-1===u.indexOf(c);){if(!N(c))return c;if(!(d=t[c]))break;if(d.visible)return c;u.push(c),c=d.fill}return!1}(S,c,h.propagate))},beforeDraw(t,i,h){let d="beforeDraw"===h.drawTime,c=t.getSortedVisibleDatasetMetas(),u=t.chartArea;for(let i=c.length-1;i>=0;--i){let h=c[i].$filler;h&&(h.line.updateControlPoints(u,h.axis),d&&h.fill&&mi(t.ctx,h,u))}},beforeDatasetsDraw(t,i,h){if("beforeDatasetsDraw"!==h.drawTime)return;let d=t.getSortedVisibleDatasetMetas();for(let i=d.length-1;i>=0;--i){let h=d[i].$filler;Hs(h)&&mi(t.ctx,h,t.chartArea)}},beforeDatasetDraw(t,i,h){let d=i.meta.$filler;Hs(d)&&"beforeDatasetDraw"===h.drawTime&&mi(t.ctx,d,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};let Xs=(t,i)=>{let{boxHeight:h=i,boxWidth:d=i}=t;return t.usePointStyle&&(h=Math.min(h,i),d=t.pointStyleWidth||Math.min(d,i)),{boxWidth:d,boxHeight:h,itemHeight:Math.max(i,h)}},pc=(t,i)=>null!==t&&null!==i&&t.datasetIndex===i.datasetIndex&&t.index===i.index;let Us=class Us extends st{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,h){this.maxWidth=t,this.maxHeight=i,this._margins=h,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},i=I(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(i=>t.filter(i,this.chart.data))),t.sort&&(i=i.sort((i,h)=>t.sort(i,h,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){let t,i;let{options:h,ctx:d}=this;if(!h.display){this.width=this.height=0;return}let c=h.labels,u=$(c.font),b=u.size,w=this._computeTitleHeight(),{boxWidth:S,itemHeight:P}=Xs(c,b);d.font=u.string,this.isHorizontal()?(t=this.maxWidth,i=this._fitRows(w,b,S,P)+10):(i=this.maxHeight,t=this._fitCols(w,b,S,P)+10),this.width=Math.min(t,h.maxWidth||this.maxWidth),this.height=Math.min(i,h.maxHeight||this.maxHeight)}_fitRows(t,i,h,d){let{ctx:c,maxWidth:u,options:{labels:{padding:b}}}=this,w=this.legendHitBoxes=[],S=this.lineWidths=[0],P=d+b,O=t;c.textAlign="left",c.textBaseline="middle";let A=-1,L=-P;return this.legendItems.forEach((t,R)=>{let F=h+i/2+c.measureText(t.text).width;(0===R||S[S.length-1]+F+2*b>u)&&(O+=P,S[S.length-(R>0?0:1)]=0,L+=P,A++),w[R]={left:0,top:L,row:A,width:F,height:d},S[S.length-1]+=F+b}),O}_fitCols(t,i,h,d){let{ctx:c,maxHeight:u,options:{labels:{padding:b}}}=this,w=this.legendHitBoxes=[],S=this.columnSizes=[],P=u-t,O=b,A=0,L=0,R=0,F=0;return this.legendItems.forEach((t,u)=>{let B=h+i/2+c.measureText(t.text).width;u>0&&L+d+2*b>P&&(O+=A+b,S.push({width:A,height:L}),R+=A+b,F++,A=L=0),w[u]={left:R,top:L,col:F,width:B,height:d},A=Math.max(A,B),L+=d+b}),O+=A,S.push({width:A,height:L}),O}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:h,labels:{padding:d},rtl:c}}=this,u=zt(c,this.left,this.width);if(this.isHorizontal()){let c=0,b=U(h,this.left+d,this.right-this.lineWidths[c]);for(let w of i)c!==w.row&&(c=w.row,b=U(h,this.left+d,this.right-this.lineWidths[c])),w.top+=this.top+t+d,w.left=u.leftForLtr(u.x(b),w.width),b+=w.width+d}else{let c=0,b=U(h,this.top+t+d,this.bottom-this.columnSizes[c].height);for(let w of i)w.col!==c&&(c=w.col,b=U(h,this.top+t+d,this.bottom-this.columnSizes[c].height)),w.top=b,w.left+=this.left+d,w.left=u.leftForLtr(u.x(w.left),w.width),b+=w.height+d}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){let t=this.ctx;Xe(t,this),this._draw(),Ue(t)}}_draw(){let t;let{options:i,columnSizes:h,lineWidths:d,ctx:c}=this,{align:u,labels:b}=i,w=tl.color,S=zt(i.rtl,this.left,this.width),P=$(b.font),{color:O,padding:A}=b,L=P.size,R=L/2;this.drawTitle(),c.textAlign=S.textAlign("left"),c.textBaseline="middle",c.lineWidth=.5,c.font=P.string;let{boxWidth:F,boxHeight:B,itemHeight:V}=Xs(b,L),x=function(t,i,h){if(isNaN(F)||F<=0||isNaN(B)||B<0)return;c.save();let d=C(h.lineWidth,1);if(c.fillStyle=C(h.fillStyle,w),c.lineCap=C(h.lineCap,"butt"),c.lineDashOffset=C(h.lineDashOffset,0),c.lineJoin=C(h.lineJoin,"miter"),c.lineWidth=d,c.strokeStyle=C(h.strokeStyle,w),c.setLineDash(C(h.lineDash,[])),b.usePointStyle){let u={radius:B*Math.SQRT2/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:d},w=S.xPlus(t,F/2),P=i+R;Mn(c,u,w,P,b.pointStyleWidth&&F)}else{let u=i+Math.max((L-B)/2,0),b=S.leftForLtr(t,F),w=Dt(h.borderRadius);c.beginPath(),Object.values(w).some(t=>0!==t)?ae(c,{x:b,y:u,w:F,h:B,radius:w}):c.rect(b,u,F,B),c.fill(),0!==d&&c.stroke()}c.restore()},v=function(t,i,h){Tt(c,h.text,t,i+V/2,P,{strikethrough:h.hidden,textAlign:S.textAlign(h.textAlign)})},W=this.isHorizontal(),H=this._computeTitleHeight();t=W?{x:U(u,this.left+A,this.right-d[0]),y:this.top+A+H,line:0}:{x:this.left+A,y:U(u,this.top+H+A,this.bottom-h[0].height),line:0},Tn(this.ctx,i.textDirection);let j=V+A;this.legendItems.forEach((w,P)=>{c.strokeStyle=w.fontColor||O,c.fillStyle=w.fontColor||O;let L=c.measureText(w.text).width,B=S.textAlign(w.textAlign||(w.textAlign=b.textAlign)),V=F+R+L,X=t.x,q=t.y;S.setWidth(this.width),W?P>0&&X+V+A>this.right&&(q=t.y+=j,t.line++,X=t.x=U(u,this.left+A,this.right-d[t.line])):P>0&&q+j>this.bottom&&(X=t.x=X+h[t.line].width+A,t.line++,q=t.y=U(u,this.top+H+A,this.bottom-h[t.line].height));let G=S.x(X);x(G,q,w),X=Io(B,X+F+R,W?X+V:this.right,i.rtl),v(S.x(X),q,w),W?t.x+=V+A:t.y+=j}),Ln(this.ctx,i.textDirection)}drawTitle(){let t=this.options,i=t.title,h=$(i.font),d=K(i.padding);if(!i.display)return;let c=zt(t.rtl,this.left,this.width),u=this.ctx,b=i.position,w=h.size/2,S=d.top+w,P,O=this.left,A=this.width;if(this.isHorizontal())A=Math.max(...this.lineWidths),P=this.top+S,O=U(t.align,O,this.right-A);else{let i=this.columnSizes.reduce((t,i)=>Math.max(t,i.height),0);P=S+U(t.align,this.top,this.bottom-i-t.labels.padding-this._computeTitleHeight())}let L=U(b,O,O+A);u.textAlign=c.textAlign(Li(b)),u.textBaseline="middle",u.strokeStyle=i.color,u.fillStyle=i.color,u.font=h.string,Tt(u,i.text,L,P,h)}_computeTitleHeight(){let t=this.options.title,i=$(t.font),h=K(t.padding);return t.display?i.lineHeight+h.height:0}_getLegendItemAt(t,i){let h,d,c;if(ut(t,this.left,this.right)&&ut(i,this.top,this.bottom)){for(c=this.legendHitBoxes,h=0;h<c.length;++h)if(ut(t,(d=c[h]).left,d.left+d.width)&&ut(i,d.top,d.top+d.height))return this.legendItems[h]}return null}handleEvent(t){var i;let h=this.options;if(("mousemove"!==(i=t.type)&&"mouseout"!==i||!h.onHover&&!h.onLeave)&&(!h.onClick||"click"!==i&&"mouseup"!==i))return;let d=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){let i=this._hoveredItem,c=pc(i,d);i&&!c&&I(h.onLeave,[t,i,this],this),this._hoveredItem=d,d&&!c&&I(h.onHover,[t,d,this],this)}else d&&I(h.onClick,[t,d,this],this)}};var tV={id:"legend",_element:Us,start(t,i,h){let d=t.legend=new Us({ctx:t.ctx,options:h,chart:t});tD.configure(t,d,h),tD.addBox(t,d)},stop(t){tD.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,i,h){let d=t.legend;tD.configure(t,d,h),d.options=h},afterUpdate(t){let i=t.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(t,i){i.replay||t.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,i,h){let d=i.datasetIndex,c=h.chart;c.isDatasetVisible(d)?(c.hide(d),i.hidden=!0):(c.show(d),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let i=t.data.datasets,{labels:{usePointStyle:h,pointStyle:d,textAlign:c,color:u}}=t.legend.options;return t._getSortedDatasetMetas().map(t=>{let b=t.controller.getStyle(h?0:void 0),w=K(b.borderWidth);return{text:i[t.index].label,fillStyle:b.backgroundColor,fontColor:u,hidden:!t.visible,lineCap:b.borderCapStyle,lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:(w.width+w.height)/4,strokeStyle:b.borderColor,pointStyle:d||b.pointStyle,rotation:b.rotation,textAlign:c||b.textAlign,borderRadius:0,datasetIndex:t.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};let Yi=class Yi extends st{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){let h=this.options;if(this.left=0,this.top=0,!h.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=i;let d=z(h.text)?h.text.length:1;this._padding=K(h.padding);let c=d*$(h.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=c:this.width=c}isHorizontal(){let t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){let{top:i,left:h,bottom:d,right:c,options:u}=this,b=u.align,S=0,P,O,A;return this.isHorizontal()?(O=U(b,h,c),A=i+t,P=c-h):("left"===u.position?(O=h+t,A=U(b,d,i),S=-.5*w):(O=c-t,A=U(b,i,d),S=.5*w),P=d-i),{titleX:O,titleY:A,maxWidth:P,rotation:S}}draw(){let t=this.ctx,i=this.options;if(!i.display)return;let h=$(i.font),d=h.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:b,rotation:w}=this._drawArgs(d);Tt(t,i.text,0,0,h,{color:i.color,maxWidth:b,rotation:w,textAlign:Li(i.align),textBaseline:"middle",translation:[c,u]})}};var tW={id:"title",_element:Yi,start(t,i,h){!function(t,i){let h=new Yi({ctx:t.ctx,options:i,chart:t});tD.configure(t,h,i),tD.addBox(t,h),t.titleBlock=h}(t,h)},stop(t){let i=t.titleBlock;tD.removeBox(t,i),delete t.titleBlock},beforeUpdate(t,i,h){let d=t.titleBlock;tD.configure(t,d,h),d.options=h},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let tH=new WeakMap;var tj={id:"subtitle",start(t,i,h){let d=new Yi({ctx:t.ctx,options:h,chart:t});tD.configure(t,d,h),tD.addBox(t,d),tH.set(t,d)},stop(t){tD.removeBox(t,tH.get(t)),tH.delete(t)},beforeUpdate(t,i,h){let d=tH.get(t);tD.configure(t,d,h),d.options=h},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let t$={average(t){if(!t.length)return!1;let i,h,d=0,c=0,u=0;for(i=0,h=t.length;i<h;++i){let h=t[i].element;if(h&&h.hasValue()){let t=h.tooltipPosition();d+=t.x,c+=t.y,++u}}return{x:d/u,y:c/u}},nearest(t,i){if(!t.length)return!1;let h=i.x,d=i.y,c=Number.POSITIVE_INFINITY,u,b,w;for(u=0,b=t.length;u<b;++u){let h=t[u].element;if(h&&h.hasValue()){let t=h.getCenterPoint(),d=bi(i,t);d<c&&(c=d,w=h)}}if(w){let t=w.tooltipPosition();h=t.x,d=t.y}return{x:h,y:d}}};function rt(t,i){return i&&(z(i)?Array.prototype.push.apply(t,i):t.push(i)),t}function ht(t){return("string"==typeof t||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Ks(t,i){let h=t.chart.ctx,{body:d,footer:c,title:u}=t,{boxWidth:b,boxHeight:w}=i,S=$(i.bodyFont),P=$(i.titleFont),O=$(i.footerFont),A=u.length,L=c.length,R=d.length,F=K(i.padding),B=F.height,V=0,W=d.reduce((t,i)=>t+i.before.length+i.lines.length+i.after.length,0);if(W+=t.beforeBody.length+t.afterBody.length,A&&(B+=A*P.lineHeight+(A-1)*i.titleSpacing+i.titleMarginBottom),W){let t=i.displayColors?Math.max(w,S.lineHeight):S.lineHeight;B+=R*t+(W-R)*S.lineHeight+(W-1)*i.bodySpacing}L&&(B+=i.footerMarginTop+L*O.lineHeight+(L-1)*i.footerSpacing);let H=0,v=function(t){V=Math.max(V,h.measureText(t).width+H)};return h.save(),h.font=P.string,E(t.title,v),h.font=S.string,E(t.beforeBody.concat(t.afterBody),v),H=i.displayColors?b+2+i.boxPadding:0,E(d,t=>{E(t.before,v),E(t.lines,v),E(t.after,v)}),H=0,h.font=O.string,E(t.footer,v),h.restore(),{width:V+=F.width,height:B}}function qs(t,i,h){let d=h.yAlign||i.yAlign||function(t,i){let{y:h,height:d}=i;return h<d/2?"top":h>t.height-d/2?"bottom":"center"}(t,h);return{xAlign:h.xAlign||i.xAlign||function(t,i,h,d){let{x:c,width:u}=h,{width:b,chartArea:{left:w,right:S}}=t,P="center";return"center"===d?P=c<=(w+S)/2?"left":"right":c<=u/2?P="left":c>=b-u/2&&(P="right"),function(t,i,h,d){let{x:c,width:u}=d,b=h.caretSize+h.caretPadding;if("left"===t&&c+u+b>i.width||"right"===t&&c-u-b<0)return!0}(P,t,i,h)&&(P="center"),P}(t,i,h,d),yAlign:d}}function Gs(t,i,h,d){let{caretSize:c,caretPadding:u,cornerRadius:b}=t,{xAlign:w,yAlign:S}=h,P=c+u,{topLeft:O,topRight:A,bottomLeft:L,bottomRight:R}=Dt(b),F=function(t,i){let{x:h,width:d}=t;return"right"===i?h-=d:"center"===i&&(h-=d/2),h}(i,w),B=function(t,i,h){let{y:d,height:c}=t;return"top"===i?d+=h:"bottom"===i?d-=c+h:d-=c/2,d}(i,S,P);return"center"===S?"left"===w?F+=P:"right"===w&&(F-=P):"left"===w?F-=Math.max(O,L)+c:"right"===w&&(F+=Math.max(A,R)+c),{x:Y(F,0,d.width-i.width),y:Y(B,0,d.height-i.height)}}function Ee(t,i,h){let d=K(h.padding);return"center"===i?t.x+t.width/2:"right"===i?t.x+t.width-d.right:t.x+d.left}function Js(t,i){let h=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return h?t.override(h):t}let Ci=class Ci extends st{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let i=this.chart,h=this.options.setContext(this.getContext()),d=h.enabled&&i.options.animation&&h.animations,c=new Ni(this.chart,d);return d._cacheable&&(this._cachedAnimations=Object.freeze(c)),c}getContext(){return this.$context||(this.$context=vt(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(t,i){let{callbacks:h}=i,d=h.beforeTitle.apply(this,[t]),c=h.title.apply(this,[t]),u=h.afterTitle.apply(this,[t]),b=[];return b=rt(b,ht(d)),b=rt(b,ht(c)),b=rt(b,ht(u))}getBeforeBody(t,i){return rt([],ht(i.callbacks.beforeBody.apply(this,[t])))}getBody(t,i){let{callbacks:h}=i,d=[];return E(t,t=>{let i={before:[],lines:[],after:[]},c=Js(h,t);rt(i.before,ht(c.beforeLabel.call(this,t))),rt(i.lines,c.label.call(this,t)),rt(i.after,ht(c.afterLabel.call(this,t))),d.push(i)}),d}getAfterBody(t,i){return rt([],ht(i.callbacks.afterBody.apply(this,[t])))}getFooter(t,i){let{callbacks:h}=i,d=h.beforeFooter.apply(this,[t]),c=h.footer.apply(this,[t]),u=h.afterFooter.apply(this,[t]),b=[];return b=rt(b,ht(d)),b=rt(b,ht(c)),b=rt(b,ht(u))}_createItems(t){let i=this._active,h=this.chart.data,d=[],c=[],u=[],b=[],w,S;for(w=0,S=i.length;w<S;++w)b.push(function(t,i){let{element:h,datasetIndex:d,index:c}=i,u=t.getDatasetMeta(d).controller,{label:b,value:w}=u.getLabelAndValue(c);return{chart:t,label:b,parsed:u.getParsed(c),raw:t.data.datasets[d].data[c],formattedValue:w,dataset:u.getDataset(),dataIndex:c,datasetIndex:d,element:h}}(this.chart,i[w]));return t.filter&&(b=b.filter((i,d,c)=>t.filter(i,d,c,h))),t.itemSort&&(b=b.sort((i,d)=>t.itemSort(i,d,h))),E(b,i=>{let h=Js(t.callbacks,i);d.push(h.labelColor.call(this,i)),c.push(h.labelPointStyle.call(this,i)),u.push(h.labelTextColor.call(this,i))}),this.labelColors=d,this.labelPointStyles=c,this.labelTextColors=u,this.dataPoints=b,b}update(t,i){let h=this.options.setContext(this.getContext()),d=this._active,c,u=[];if(d.length){let t=t$[h.position].call(this,d,this._eventPosition);u=this._createItems(h),this.title=this.getTitle(u,h),this.beforeBody=this.getBeforeBody(u,h),this.body=this.getBody(u,h),this.afterBody=this.getAfterBody(u,h),this.footer=this.getFooter(u,h);let i=this._size=Ks(this,h),b=Object.assign({},t,i),w=qs(this.chart,h,b),S=Gs(h,b,w,this.chart);this.xAlign=w.xAlign,this.yAlign=w.yAlign,c={opacity:1,x:S.x,y:S.y,width:i.width,height:i.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(c={opacity:0});this._tooltipItems=u,this.$context=void 0,c&&this._resolveAnimations().update(this,c),t&&h.external&&h.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,h,d){let c=this.getCaretPosition(t,h,d);i.lineTo(c.x1,c.y1),i.lineTo(c.x2,c.y2),i.lineTo(c.x3,c.y3)}getCaretPosition(t,i,h){let d,c,u,b,w,S;let{xAlign:P,yAlign:O}=this,{caretSize:A,cornerRadius:L}=h,{topLeft:R,topRight:F,bottomLeft:B,bottomRight:V}=Dt(L),{x:W,y:H}=t,{width:j,height:X}=i;return"center"===O?(w=H+X/2,"left"===P?(c=(d=W)-A,b=w+A,S=w-A):(c=(d=W+j)+A,b=w-A,S=w+A),u=d):(c="left"===P?W+Math.max(R,B)+A:"right"===P?W+j-Math.max(F,V)-A:this.caretX,"top"===O?(w=(b=H)-A,d=c-A,u=c+A):(w=(b=H+X)+A,d=c+A,u=c-A),S=b),{x1:d,x2:c,x3:u,y1:b,y2:w,y3:S}}drawTitle(t,i,h){let d,c,u;let b=this.title,w=b.length;if(w){let S=zt(h.rtl,this.x,this.width);for(t.x=Ee(this,h.titleAlign,h),i.textAlign=S.textAlign(h.titleAlign),i.textBaseline="middle",d=$(h.titleFont),c=h.titleSpacing,i.fillStyle=h.titleColor,i.font=d.string,u=0;u<w;++u)i.fillText(b[u],S.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+c,u+1===w&&(t.y+=h.titleMarginBottom-c)}}_drawColorBox(t,i,h,d,c){let u=this.labelColors[h],b=this.labelPointStyles[h],{boxHeight:w,boxWidth:S,boxPadding:P}=c,O=$(c.bodyFont),A=Ee(this,"left",c),L=d.x(A),R=w<O.lineHeight?(O.lineHeight-w)/2:0,F=i.y+R;if(c.usePointStyle){let i={radius:Math.min(S,w)/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:1},h=d.leftForLtr(L,S)+S/2,P=F+w/2;t.strokeStyle=c.multiKeyBackground,t.fillStyle=c.multiKeyBackground,yi(t,i,h,P),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,yi(t,i,h,P)}else{t.lineWidth=D(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;let i=d.leftForLtr(L,S-P),h=d.leftForLtr(d.xPlus(L,1),S-P-2),b=Dt(u.borderRadius);Object.values(b).some(t=>0!==t)?(t.beginPath(),t.fillStyle=c.multiKeyBackground,ae(t,{x:i,y:F,w:S,h:w,radius:b}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),ae(t,{x:h,y:F+1,w:S-2,h:w-2,radius:b}),t.fill()):(t.fillStyle=c.multiKeyBackground,t.fillRect(i,F,S,w),t.strokeRect(i,F,S,w),t.fillStyle=u.backgroundColor,t.fillRect(h,F+1,S-2,w-2))}t.fillStyle=this.labelTextColors[h]}drawBody(t,i,h){let d,c,u,b,w,S,P;let{body:O}=this,{bodySpacing:A,bodyAlign:L,displayColors:R,boxHeight:F,boxWidth:B,boxPadding:V}=h,W=$(h.bodyFont),H=W.lineHeight,j=0,X=zt(h.rtl,this.x,this.width),p=function(h){i.fillText(h,X.x(t.x+j),t.y+H/2),t.y+=H+A},q=X.textAlign(L);for(i.textAlign=L,i.textBaseline="middle",i.font=W.string,t.x=Ee(this,q,h),i.fillStyle=h.bodyColor,E(this.beforeBody,p),j=R&&"right"!==q?"center"===L?B/2+V:B+2+V:0,b=0,S=O.length;b<S;++b){for(d=O[b],c=this.labelTextColors[b],i.fillStyle=c,E(d.before,p),u=d.lines,R&&u.length&&(this._drawColorBox(i,t,b,X,h),H=Math.max(W.lineHeight,F)),w=0,P=u.length;w<P;++w)p(u[w]),H=W.lineHeight;E(d.after,p)}j=0,H=W.lineHeight,E(this.afterBody,p),t.y-=A}drawFooter(t,i,h){let d,c;let u=this.footer,b=u.length;if(b){let w=zt(h.rtl,this.x,this.width);for(t.x=Ee(this,h.footerAlign,h),t.y+=h.footerMarginTop,i.textAlign=w.textAlign(h.footerAlign),i.textBaseline="middle",d=$(h.footerFont),i.fillStyle=h.footerColor,i.font=d.string,c=0;c<b;++c)i.fillText(u[c],w.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+h.footerSpacing}}drawBackground(t,i,h,d){let{xAlign:c,yAlign:u}=this,{x:b,y:w}=t,{width:S,height:P}=h,{topLeft:O,topRight:A,bottomLeft:L,bottomRight:R}=Dt(d.cornerRadius);i.fillStyle=d.backgroundColor,i.strokeStyle=d.borderColor,i.lineWidth=d.borderWidth,i.beginPath(),i.moveTo(b+O,w),"top"===u&&this.drawCaret(t,i,h,d),i.lineTo(b+S-A,w),i.quadraticCurveTo(b+S,w,b+S,w+A),"center"===u&&"right"===c&&this.drawCaret(t,i,h,d),i.lineTo(b+S,w+P-R),i.quadraticCurveTo(b+S,w+P,b+S-R,w+P),"bottom"===u&&this.drawCaret(t,i,h,d),i.lineTo(b+L,w+P),i.quadraticCurveTo(b,w+P,b,w+P-L),"center"===u&&"left"===c&&this.drawCaret(t,i,h,d),i.lineTo(b,w+O),i.quadraticCurveTo(b,w,b+O,w),i.closePath(),i.fill(),d.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){let i=this.chart,h=this.$animations,d=h&&h.x,c=h&&h.y;if(d||c){let h=t$[t.position].call(this,this._active,this._eventPosition);if(!h)return;let u=this._size=Ks(this,t),b=Object.assign({},h,this._size),w=qs(i,t,b),S=Gs(t,b,w,i);(d._to!==S.x||c._to!==S.y)&&(this.xAlign=w.xAlign,this.yAlign=w.yAlign,this.width=u.width,this.height=u.height,this.caretX=h.x,this.caretY=h.y,this._resolveAnimations().update(this,S))}}_willRender(){return!!this.opacity}draw(t){let i=this.options.setContext(this.getContext()),h=this.opacity;if(!h)return;this._updateAnimationTarget(i);let d={width:this.width,height:this.height},c={x:this.x,y:this.y};h=.001>Math.abs(h)?0:h;let u=K(i.padding),b=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&b&&(t.save(),t.globalAlpha=h,this.drawBackground(c,t,d,i),Tn(t,i.textDirection),c.y+=u.top,this.drawTitle(c,t,i),this.drawBody(c,t,i),this.drawFooter(c,t,i),Ln(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){let h=this._active,d=t.map(({datasetIndex:t,index:i})=>{let h=this.chart.getDatasetMeta(t);if(!h)throw Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:h.data[i],index:i}}),c=!ze(h,d),u=this._positionChanged(d,i);(c||u)&&(this._active=d,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,h=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let d=this.options,c=this._active||[],u=this._getActiveElements(t,c,i,h),b=this._positionChanged(u,t),w=i||!ze(u,c)||b;return w&&(this._active=u,(d.enabled||d.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),w}_getActiveElements(t,i,h,d){let c=this.options;if("mouseout"===t.type)return[];if(!d)return i;let u=this.chart.getElementsAtEventForMode(t,c.mode,c,h);return c.reverse&&u.reverse(),u}_positionChanged(t,i){let{caretX:h,caretY:d,options:c}=this,u=t$[c.position].call(this,t,i);return!1!==u&&(h!==u.x||d!==u.y)}};Ci.positioners=t$;var tY={id:"tooltip",_element:Ci,positioners:t$,afterInit(t,i,h){h&&(t.tooltip=new Ci({chart:t,options:h}))},beforeUpdate(t,i,h){t.tooltip&&t.tooltip.initialize(h)},reset(t,i,h){t.tooltip&&t.tooltip.initialize(h)},afterDraw(t){let i=t.tooltip;if(i&&i._willRender()){let h={tooltip:i};if(!1===t.notifyPlugins("beforeTooltipDraw",h))return;i.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",h)}},afterEvent(t,i){if(t.tooltip){let h=i.replay;t.tooltip.handleEvent(i.event,h,i.inChartArea)&&(i.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,i)=>i.bodyFont.size,boxWidth:(t,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:ct,title(t){if(t.length>0){let i=t[0],h=i.chart.data.labels,d=h?h.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(d>0&&i.dataIndex<d)return h[i.dataIndex]}return""},afterTitle:ct,beforeBody:ct,beforeLabel:ct,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let i=t.dataset.label||"";i&&(i+=": ");let h=t.formattedValue;return T(h)||(i+=h),i},labelColor(t){let i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:ct,afterBody:ct,beforeFooter:ct,footer:ct,afterFooter:ct}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},tU=Object.freeze({__proto__:null,Decimation:tN,Filler:tB,Legend:tV,SubTitle:tj,Title:tW,Tooltip:tY});let Sc=(t,i,h,d)=>("string"==typeof i?(h=t.push(i)-1,d.unshift({index:h,label:i})):isNaN(i)&&(h=null),h),Cc=(t,i)=>null===t?null:Y(Math.round(t),0,i);let ce=class ce extends Mt{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let i=this._addedLabels;if(i.length){let t=this.getLabels();for(let{index:h,label:d}of i)t[h]===d&&t.splice(h,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(T(t))return null;let h=this.getLabels();return Cc(i=isFinite(i)&&h[i]===t?i:function(t,i,h,d){let c=t.indexOf(i);if(-1===c)return Sc(t,i,h,d);let u=t.lastIndexOf(i);return c!==u?h:c}(h,t,C(i,t),this._addedLabels),h.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:h,max:d}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(h=0),i||(d=this.getLabels().length-1)),this.min=h,this.max=d}buildTicks(){let t=this.min,i=this.max,h=this.options.offset,d=[],c=this.getLabels();c=0===t&&i===c.length-1?c:c.slice(t,i+1),this._valueRange=Math.max(c.length-(h?0:1),1),this._startValue=this.min-(h?.5:0);for(let h=t;h<=i;h++)d.push({value:h});return d}getLabelForValue(t){let i=this.getLabels();return t>=0&&t<i.length?i[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}};function Qs(t,i,{horizontal:h,minRotation:d}){let c=nt(d),u=.75*i*(""+t).length;return Math.min(i/((h?Math.sin(c):Math.cos(c))||.001),u)}ce.id="category",ce.defaults={ticks:{callback:ce.prototype.getLabelForValue}};let Ye=class Ye extends Mt{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return T(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:i,maxDefined:h}=this.getUserBounds(),{min:d,max:c}=this,r=t=>d=i?d:t,a=t=>c=h?c:t;if(t){let t=V(d),i=V(c);t<0&&i<0?a(0):t>0&&i>0&&r(0)}if(d===c){let i=1;(c>=Number.MAX_SAFE_INTEGER||d<=Number.MIN_SAFE_INTEGER)&&(i=Math.abs(.05*c)),a(c+i),t||r(d-i)}this.min=d,this.max=c}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:i,stepSize:h}=t,d;return h?(d=Math.ceil(this.max/h)-Math.floor(this.min/h)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${h} would result generating up to ${d} ticks. Limiting to 1000.`),d=1e3):(d=this.computeTickLimit(),i=i||11),i&&(d=Math.min(i,d)),d}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,i=t.ticks,h=this.getTickLimit();h=Math.max(2,h);let d={maxTicks:h,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:!1!==i.includeBounds},c=this._range||this,u=function(t,i){let h=[],{bounds:d,step:c,min:u,max:b,precision:w,count:S,maxTicks:P,maxDigits:O,includeBounds:A}=t,L=c||1,R=P-1,{min:F,max:B}=i,V=!T(u),W=!T(b),H=!T(S),j=(B-F)/(O+1),X=qi((B-F)/R/L)*L,q,G,J,tt;if(X<1e-14&&!V&&!W)return[{value:F},{value:B}];(tt=Math.ceil(B/X)-Math.floor(F/X))>R&&(X=qi(tt*X/R/L)*L),T(w)||(X=Math.ceil(X*(q=Math.pow(10,w)))/q),"ticks"===d?(G=Math.floor(F/X)*X,J=Math.ceil(B/X)*X):(G=F,J=B),V&&W&&c&&function(t,i){let h=Math.round(t);return h-i<=t&&h+i>=t}((b-u)/c,X/1e3)?(tt=Math.round(Math.min((b-u)/X,P)),X=(b-u)/tt,G=u,J=b):H?(G=V?u:G,X=((J=W?b:J)-G)/(tt=S-1)):tt=te(tt=(J-G)/X,Math.round(tt),X/1e3)?Math.round(tt):Math.ceil(tt);let ti=Math.max(Gi(X),Gi(G));G=Math.round(G*(q=Math.pow(10,T(w)?ti:w)))/q,J=Math.round(J*q)/q;let ta=0;for(V&&(A&&G!==u?(h.push({value:u}),G<u&&ta++,te(Math.round((G+ta*X)*q)/q,u,Qs(u,j,t))&&ta++):G<u&&ta++);ta<tt;++ta)h.push({value:Math.round((G+ta*X)*q)/q});return W&&A&&J!==b?h.length&&te(h[h.length-1].value,b,Qs(b,j,t))?h[h.length-1].value=b:h.push({value:b}):W&&J!==b||h.push({value:J}),h}(d,c);return"ticks"===t.bounds&&cn(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){let t=this.ticks,i=this.min,h=this.max;if(super.configure(),this.options.offset&&t.length){let d=(h-i)/Math.max(t.length-1,1)/2;i-=d,h+=d}this._startValue=i,this._endValue=h,this._valueRange=h-i}getLabelForValue(t){return de(t,this.chart.options.locale,this.options.ticks.format)}};let Ge=class Ge extends Ye{determineDataLimits(){let{min:t,max:i}=this.getMinMax(!0);this.min=N(t)?t:0,this.max=N(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),i=t?this.width:this.height,h=nt(this.options.ticks.minRotation),d=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,d.lineHeight/((t?Math.sin(h):Math.cos(h))||.001)))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}};function tn(t){return t/Math.pow(10,Math.floor(B(t)))==1}Ge.id="linear",Ge.defaults={ticks:{callback:ty.formatters.numeric}};let Ze=class Ze extends Mt{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){let h=Ye.prototype.parse.apply(this,[t,i]);if(0===h){this._zero=!0;return}return N(h)&&h>0?h:null}determineDataLimits(){let{min:t,max:i}=this.getMinMax(!0);this.min=N(t)?Math.max(0,t):null,this.max=N(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:i}=this.getUserBounds(),h=this.min,d=this.max,o=i=>h=t?h:i,r=t=>d=i?d:t,a=(t,i)=>Math.pow(10,Math.floor(B(t))+i);h===d&&(h<=0?(o(1),r(10)):(o(a(h,-1)),r(a(d,1)))),h<=0&&o(a(d,-1)),d<=0&&r(a(h,1)),this._zero&&this.min!==this._suggestedMin&&h===a(this.min,0)&&o(a(h,-1)),this.min=h,this.max=d}buildTicks(){let t=this.options,i={min:this._userMin,max:this._userMax},h=function(t,i){let h=Math.floor(B(i.max)),d=Math.ceil(i.max/Math.pow(10,h)),c=[],u=Q(t.min,Math.pow(10,Math.floor(B(i.min)))),b=Math.floor(B(u)),w=Math.floor(u/Math.pow(10,b)),S=b<0?Math.pow(10,Math.abs(b)):1;do c.push({value:u,major:tn(u)}),10==++w&&(w=1,S=++b>=0?1:S),u=Math.round(w*Math.pow(10,b)*S)/S;while(b<h||b===h&&w<d);let P=Q(t.max,u);return c.push({value:P,major:tn(u)}),c}(i,this);return"ticks"===t.bounds&&cn(h,this,"value"),t.reverse?(h.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),h}getLabelForValue(t){return void 0===t?"0":de(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=B(t),this._valueRange=B(this.max)-B(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(B(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}};function Di(t){let i=t.ticks;if(i.display&&t.display){let t=K(i.backdropPadding);return C(i.font&&i.font.size,tl.font.size)+t.height}return 0}function en(t,i,h,d,c){return t===d||t===c?{start:i-h/2,end:i+h/2}:t<d||t>c?{start:i-h,end:i}:{start:i,end:i+h}}function bo(t,i,h,d){let{ctx:c}=t;if(h)c.arc(t.xCenter,t.yCenter,i,0,S);else{let h=t.getPointPosition(0,i);c.moveTo(h.x,h.y);for(let u=1;u<d;u++)h=t.getPointPosition(u,i),c.lineTo(h.x,h.y)}}Ze.id="logarithmic",Ze.defaults={ticks:{callback:ty.formatters.logarithmic,major:{enabled:!0}}};let Nt=class Nt extends Ye{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=K(Di(this.options)/2),i=this.width=this.maxWidth-t.width,h=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+h/2+t.top),this.drawingArea=Math.floor(Math.min(i,h)/2)}determineDataLimits(){let{min:t,max:i}=this.getMinMax(!1);this.min=N(t)&&!isNaN(t)?t:0,this.max=N(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Di(this.options))}generateTickLabels(t){Ye.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((t,i)=>{let h=I(this.options.pointLabels.callback,[t,i],this);return h||0===h?h:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?function(t){let i={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},h=Object.assign({},i),d=[],c=[],u=t._pointLabels.length,b=t.options.pointLabels,S=b.centerPointLabels?w/u:0;for(let A=0;A<u;A++){var P,O;let u=b.setContext(t.getPointLabelContext(A));c[A]=u.padding;let L=t.getPointPosition(A,t.drawingArea+c[A],S),R=$(u.font),F=(P=t.ctx,O=z(O=t._pointLabels[A])?O:[O],{w:function(t,i,h,d){let c,u,b,w,S;let P=(d=d||{}).data=d.data||{},O=d.garbageCollect=d.garbageCollect||[];d.font!==i&&(P=d.data={},O=d.garbageCollect=[],d.font=i),t.save(),t.font=i;let A=0,L=h.length;for(c=0;c<L;c++)if(null!=(w=h[c])&&!0!==z(w))A=Ne(t,P,O,A,w);else if(z(w))for(u=0,b=w.length;u<b;u++)null==(S=w[u])||z(S)||(A=Ne(t,P,O,A,S));t.restore();let R=O.length/2;if(R>h.length){for(c=0;c<R;c++)delete P[O[c]];O.splice(0,R)}return A}(P,R.string,O),h:O.length*R.lineHeight});d[A]=F;let B=Z(t.getIndexAngle(A)+S),V=Math.round(B*(180/w)),W=en(V,L.x,F.w,0,180),H=en(V,L.y,F.h,90,270);!function(t,i,h,d,c){let u=Math.abs(Math.sin(h)),b=Math.abs(Math.cos(h)),w=0,S=0;d.start<i.l?(w=(i.l-d.start)/u,t.l=Math.min(t.l,i.l-w)):d.end>i.r&&(w=(d.end-i.r)/u,t.r=Math.max(t.r,i.r+w)),c.start<i.t?(S=(i.t-c.start)/b,t.t=Math.min(t.t,i.t-S)):c.end>i.b&&(S=(c.end-i.b)/b,t.b=Math.max(t.b,i.b+S))}(h,i,B,W,H)}t.setCenterPoint(i.l-h.l,h.r-i.r,i.t-h.t,h.b-i.b),t._pointLabelItems=function(t,i,h){let d=[],c=t._pointLabels.length,u=t.options,b=Di(u)/2,S=t.drawingArea,P=u.pointLabels.centerPointLabels?w/c:0;for(let u=0;u<c;u++){var O,A,R,F;let c=t.getPointPosition(u,S+b+h[u],P),B=Math.round(Z(c.angle+L)*(180/w)),V=i[u],W=(O=c.y,A=V.h,90===B||270===B?O-=A/2:(B>270||B<90)&&(O-=A),O),H=0===B||180===B?"center":B<180?"left":"right",j=(R=c.x,F=V.w,"right"===H?R-=F:"center"===H&&(R-=F/2),R);d.push({x:c.x,y:W,textAlign:H,left:j,top:W,right:j+V.w,bottom:W+V.h})}return d}(t,d,c)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,h,d){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((h-d)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,h,d))}getIndexAngle(t){let i=S/(this._pointLabels.length||1),h=this.options.startAngle||0;return Z(t*i+nt(h))}getDistanceFromCenterForValue(t){if(T(t))return NaN;let i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if(T(t))return NaN;let i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){let i=this._pointLabels||[];if(t>=0&&t<i.length){let h=i[t];return vt(this.getContext(),{label:h,index:t,type:"pointLabel"})}}getPointPosition(t,i,h=0){let d=this.getIndexAngle(t)-L+h;return{x:Math.cos(d)*i+this.xCenter,y:Math.sin(d)*i+this.yCenter,angle:d}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:i,top:h,right:d,bottom:c}=this._pointLabelItems[t];return{left:i,top:h,right:d,bottom:c}}drawBackground(){let{backgroundColor:t,grid:{circular:i}}=this.options;if(t){let h=this.ctx;h.save(),h.beginPath(),bo(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),h.closePath(),h.fillStyle=t,h.fill(),h.restore()}}drawGrid(){let t,i,h;let d=this.ctx,c=this.options,{angleLines:u,grid:b}=c,w=this._pointLabels.length;if(c.pointLabels.display&&function(t,i){let{ctx:h,options:{pointLabels:d}}=t;for(let c=i-1;c>=0;c--){let i=d.setContext(t.getPointLabelContext(c)),u=$(i.font),{x:b,y:w,textAlign:S,left:P,top:O,right:A,bottom:L}=t._pointLabelItems[c],{backdropColor:R}=i;if(!T(R)){let t=Dt(i.borderRadius),d=K(i.backdropPadding);h.fillStyle=R;let c=P-d.left,u=O-d.top,b=A-P+d.width,w=L-O+d.height;Object.values(t).some(t=>0!==t)?(h.beginPath(),ae(h,{x:c,y:u,w:b,h:w,radius:t}),h.fill()):h.fillRect(c,u,b,w)}Tt(h,t._pointLabels[c],b,w+u.lineHeight/2,u,{color:i.color,textAlign:S,textBaseline:"middle"})}}(this,w),b.display&&this.ticks.forEach((t,h)=>{if(0!==h){i=this.getDistanceFromCenterForValue(t.value);let d=b.setContext(this.getContext(h-1));(function(t,i,h,d){let c=t.ctx,u=i.circular,{color:b,lineWidth:w}=i;(u||d)&&b&&w&&!(h<0)&&(c.save(),c.strokeStyle=b,c.lineWidth=w,c.setLineDash(i.borderDash),c.lineDashOffset=i.borderDashOffset,c.beginPath(),bo(t,h,u,d),c.closePath(),c.stroke(),c.restore())})(this,d,i,w)}}),u.display){for(d.save(),t=w-1;t>=0;t--){let b=u.setContext(this.getPointLabelContext(t)),{color:w,lineWidth:S}=b;S&&w&&(d.lineWidth=S,d.strokeStyle=w,d.setLineDash(b.borderDash),d.lineDashOffset=b.borderDashOffset,i=this.getDistanceFromCenterForValue(c.ticks.reverse?this.min:this.max),h=this.getPointPosition(t,i),d.beginPath(),d.moveTo(this.xCenter,this.yCenter),d.lineTo(h.x,h.y),d.stroke())}d.restore()}}drawBorder(){}drawLabels(){let t,i;let h=this.ctx,d=this.options,c=d.ticks;if(!c.display)return;let u=this.getIndexAngle(0);h.save(),h.translate(this.xCenter,this.yCenter),h.rotate(u),h.textAlign="center",h.textBaseline="middle",this.ticks.forEach((u,b)=>{if(0===b&&!d.reverse)return;let w=c.setContext(this.getContext(b)),S=$(w.font);if(t=this.getDistanceFromCenterForValue(this.ticks[b].value),w.showLabelBackdrop){h.font=S.string,i=h.measureText(u.label).width,h.fillStyle=w.backdropColor;let d=K(w.backdropPadding);h.fillRect(-i/2-d.left,-t-S.size/2-d.top,i+d.width,S.size+d.height)}Tt(h,u.label,0,-t,S,{color:w.color})}),h.restore()}drawTitle(){}};Nt.id="radialLinear",Nt.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ty.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}},Nt.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Nt.descriptors={angleLines:{_fallback:"grid"}};let tX={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},tK=Object.keys(tX);function Wc(t,i){return t-i}function sn(t,i){if(T(i))return null;let h=t._adapter,{parser:d,round:c,isoWeekday:u}=t._parseOpts,b=i;return"function"==typeof d&&(b=d(b)),N(b)||(b="string"==typeof d?h.parse(b,d):h.parse(b)),null===b?null:(c&&(b="week"===c&&(Bt(u)||!0===u)?h.startOf(b,"isoWeek",u):h.startOf(b,c)),+b)}function nn(t,i,h,d){let c=tK.length;for(let u=tK.indexOf(t);u<c-1;++u){let t=tX[tK[u]],c=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((h-i)/(c*t.size))<=d)return tK[u]}return tK[c-1]}function on(t,i,h){if(h){if(h.length){let{lo:d,hi:c}=Ti(h,i),u=h[d]>=i?h[d]:h[c];t[u]=!0}}else t[i]=!0}function rn(t,i,h){let d,c;let u=[],b={},w=i.length;for(d=0;d<w;++d)b[c=i[d]]=d,u.push({value:c,major:!1});return 0!==w&&h?function(t,i,h,d){let c,u;let b=t._adapter,w=+b.startOf(i[0].value,d),S=i[i.length-1].value;for(c=w;c<=S;c=+b.add(c,1,d))(u=h[c])>=0&&(i[u].major=!0);return i}(t,u,b,h):u}let Ht=class Ht extends Mt{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i){let h=t.time||(t.time={}),d=this._adapter=new tw._date(t.adapters.date);d.init(i),Qt(h.displayFormats,d.formats()),this._parseOpts={parser:h.parser,round:h.round,isoWeekday:h.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return void 0===t?null:sn(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,i=this._adapter,h=t.time.unit||"day",{min:d,max:c,minDefined:u,maxDefined:b}=this.getUserBounds();function l(t){u||isNaN(t.min)||(d=Math.min(d,t.min)),b||isNaN(t.max)||(c=Math.max(c,t.max))}u&&b||(l(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&l(this.getMinMax(!1))),d=N(d)&&!isNaN(d)?d:+i.startOf(Date.now(),h),c=N(c)&&!isNaN(c)?c:+i.endOf(Date.now(),h)+1,this.min=Math.min(d,c-1),this.max=Math.max(d+1,c)}_getLabelBounds(){let t=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],h=t[t.length-1]),{min:i,max:h}}buildTicks(){let t=this.options,i=t.time,h=t.ticks,d="labels"===h.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&d.length&&(this.min=this._userMin||d[0],this.max=this._userMax||d[d.length-1]);let c=this.min,u=this.max,b=function(t,i,h){let d=0,c=t.length;for(;d<c&&t[d]<i;)d++;for(;c>d&&t[c-1]>h;)c--;return d>0||c<t.length?t.slice(d,c):t}(d,c,u);return this._unit=i.unit||(h.autoSkip?nn(i.minUnit,this.min,this.max,this._getLabelCapacity(c)):function(t,i,h,d,c){for(let u=tK.length-1;u>=tK.indexOf(h);u--){let h=tK[u];if(tX[h].common&&t._adapter.diff(c,d,h)>=i-1)return h}return tK[h?tK.indexOf(h):0]}(this,b.length,i.minUnit,this.min,this.max)),this._majorUnit=h.major.enabled&&"year"!==this._unit?function(t){for(let i=tK.indexOf(t)+1,h=tK.length;i<h;++i)if(tX[tK[i]].common)return tK[i]}(this._unit):void 0,this.initOffsets(d),t.reverse&&b.reverse(),rn(this,b,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let i=0,h=0,d,c;this.options.offset&&t.length&&(d=this.getDecimalForValue(t[0]),i=1===t.length?1-d:(this.getDecimalForValue(t[1])-d)/2,c=this.getDecimalForValue(t[t.length-1]),h=1===t.length?c:(c-this.getDecimalForValue(t[t.length-2]))/2);let u=t.length<3?.5:.25;i=Y(i,0,u),h=Y(h,0,u),this._offsets={start:i,end:h,factor:1/(i+1+h)}}_generate(){let t=this._adapter,i=this.min,h=this.max,d=this.options,c=d.time,u=c.unit||nn(c.minUnit,i,h,this._getLabelCapacity(i)),b=C(c.stepSize,1),w="week"===u&&c.isoWeekday,S=Bt(w)||!0===w,P={},O=i,A,L;if(S&&(O=+t.startOf(O,"isoWeek",w)),O=+t.startOf(O,S?"day":u),t.diff(h,i,u)>1e5*b)throw Error(i+" and "+h+" are too far apart with stepSize of "+b+" "+u);let R="data"===d.ticks.source&&this.getDataTimestamps();for(A=O,L=0;A<h;A=+t.add(A,b,u),L++)on(P,A,R);return(A===h||"ticks"===d.bounds||1===L)&&on(P,A,R),Object.keys(P).sort((t,i)=>t-i).map(t=>+t)}getLabelForValue(t){let i=this._adapter,h=this.options.time;return h.tooltipFormat?i.format(t,h.tooltipFormat):i.format(t,h.displayFormats.datetime)}_tickFormatFunction(t,i,h,d){let c=this.options,u=c.time.displayFormats,b=this._unit,w=this._majorUnit,S=b&&u[b],P=w&&u[w],O=h[i],A=w&&P&&O&&O.major,L=this._adapter.format(t,d||(A?P:S)),R=c.ticks.callback;return R?I(R,[L,i,h],this):L}generateTickLabels(t){let i,h,d;for(i=0,h=t.length;i<h;++i)(d=t[i]).label=this._tickFormatFunction(d.value,i,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let i=this._offsets,h=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+h)*i.factor)}getValueForPixel(t){let i=this._offsets,h=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+h*(this.max-this.min)}_getLabelSize(t){let i=this.options.ticks,h=this.ctx.measureText(t).width,d=nt(this.isHorizontal()?i.maxRotation:i.minRotation),c=Math.cos(d),u=Math.sin(d),b=this._resolveTickFontOptions(0).size;return{w:h*c+b*u,h:h*u+b*c}}_getLabelCapacity(t){let i=this.options.time,h=i.displayFormats,d=h[i.unit]||h.millisecond,c=this._tickFormatFunction(t,0,rn(this,[t],this._majorUnit),d),u=this._getLabelSize(c),b=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return b>0?b:1}getDataTimestamps(){let t=this._cache.data||[],i,h;if(t.length)return t;let d=this.getMatchingVisibleMetas();if(this._normalized&&d.length)return this._cache.data=d[0].controller.getAllParsedValues(this);for(i=0,h=d.length;i<h;++i)t=t.concat(d[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t,i;let h=this._cache.labels||[];if(h.length)return h;let d=this.getLabels();for(t=0,i=d.length;t<i;++t)h.push(sn(this,d[t]));return this._cache.labels=this._normalized?h:this.normalize(h)}normalize(t){return un(t.sort(Wc))}};function Fe(t,i,h){let d=0,c=t.length-1,u,b,w,S;h?(i>=t[d].pos&&i<=t[c].pos&&({lo:d,hi:c}=ft(t,"pos",i)),{pos:u,time:w}=t[d],{pos:b,time:S}=t[c]):(i>=t[d].time&&i<=t[c].time&&({lo:d,hi:c}=ft(t,"time",i)),{time:u,pos:w}=t[d],{time:b,pos:S}=t[c]);let P=b-u;return P?w+(S-w)*(i-u)/P:w}Ht.id="time",Ht.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};let Qe=class Qe extends Ht{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=Fe(i,this.min),this._tableRange=Fe(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let i,h,d;let{min:c,max:u}=this,b=[],w=[];for(i=0,h=t.length;i<h;++i)(d=t[i])>=c&&d<=u&&b.push(d);if(b.length<2)return[{time:c,pos:0},{time:u,pos:1}];for(i=0,h=b.length;i<h;++i)Math.round((b[i+1]+b[i-1])/2)!==(d=b[i])&&w.push({time:d,pos:i/(h-1)});return w}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let i=this.getDataTimestamps(),h=this.getLabelTimestamps();return t=i.length&&h.length?this.normalize(i.concat(h)):i.length?i:h,t=this._cache.all=t}getDecimalForValue(t){return(Fe(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let i=this._offsets,h=this.getDecimalForPixel(t)/i.factor-i.end;return Fe(this._table,h*this._tableRange+this._minPos,!0)}};Qe.id="timeseries",Qe.defaults=Ht.defaults;var tZ=Object.freeze({__proto__:null,CategoryScale:ce,LinearScale:Ge,LogarithmicScale:Ze,RadialLinearScale:Nt,TimeScale:Ht,TimeSeriesScale:Qe});let tq=Object.freeze(Object.defineProperty({__proto__:null,Animation:In,Animations:Ni,ArcElement:ye,BarController:ue,BarElement:Me,BasePlatform:Hi,BasicPlatform:Yn,BubbleController:fe,CategoryScale:ce,Chart:ji,DatasetController:it,Decimation:tN,DomPlatform:Kn,DoughnutController:Lt,Element:st,Filler:tB,Interaction:tk,Legend:tV,LineController:ge,LineElement:gt,LinearScale:Ge,LogarithmicScale:Ze,PieController:qe,PointElement:ve,PolarAreaController:pe,RadarController:me,RadialLinearScale:Nt,Scale:Mt,ScatterController:xe,SubTitle:tj,Ticks:ty,TimeScale:Ht,TimeSeriesScale:Qe,Title:tW,Tooltip:tY,_adapters:tw,_detectPlatform:qn,animator:tp,controllers:tM,defaults:tl,elements:tF,layouts:tD,plugins:tU,registerables:[tM,tF,tU,tZ],registry:tv,scales:tZ},Symbol.toStringTag,{value:"Module"}))}}]);